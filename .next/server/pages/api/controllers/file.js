"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/controllers/file";
exports.ids = ["pages/api/controllers/file"];
exports.modules = {

/***/ "@clerk/nextjs/server":
/*!***************************************!*\
  !*** external "@clerk/nextjs/server" ***!
  \***************************************/
/***/ ((module) => {

module.exports = require("@clerk/nextjs/server");

/***/ }),

/***/ "aws-sdk":
/*!**************************!*\
  !*** external "aws-sdk" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("aws-sdk");

/***/ }),

/***/ "multer":
/*!*************************!*\
  !*** external "multer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("multer");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("pg");

/***/ }),

/***/ "sequelize-typescript":
/*!***************************************!*\
  !*** external "sequelize-typescript" ***!
  \***************************************/
/***/ ((module) => {

module.exports = require("sequelize-typescript");

/***/ }),

/***/ "tslib":
/*!************************!*\
  !*** external "tslib" ***!
  \************************/
/***/ ((module) => {

module.exports = require("tslib");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcontrollers%2Ffile&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Ccontrollers%5Cfile.ts&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcontrollers%2Ffile&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Ccontrollers%5Cfile.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_controllers_file_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\controllers\\file.ts */ \"(api)/./src/pages/api/controllers/file.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_controllers_file_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_controllers_file_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/controllers/file\",\n        pathname: \"/api/controllers/file\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_controllers_file_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNvbnRyb2xsZXJzJTJGZmlsZSZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnNyYyU1Q3BhZ2VzJTVDYXBpJTVDY29udHJvbGxlcnMlNUNmaWxlLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ29FO0FBQ3BFO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQywrREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsK0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtcGxlLz8zOWFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9zcmNcXFxccGFnZXNcXFxcYXBpXFxcXGNvbnRyb2xsZXJzXFxcXGZpbGUudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jb250cm9sbGVycy9maWxlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvY29udHJvbGxlcnMvZmlsZVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcontrollers%2Ffile&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Ccontrollers%5Cfile.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/common/mail.ts":
/*!**************************************!*\
  !*** ./src/pages/api/common/mail.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendEmail: () => (/* binding */ sendEmail)\n/* harmony export */ });\nconst nodemailer = __webpack_require__(/*! nodemailer */ \"nodemailer\");\nconst sendEmail = async ({ userMails, subject, text })=>{\n    try {\n        const transporter = nodemailer.createTransport({\n            host: process.env.AWS_SES_HOST,\n            port: process.env.AWS_SES_PORT,\n            secure: false,\n            auth: {\n                user: process.env.AWS_SES_USER,\n                pass: process.env.AWS_SES_PASS\n            },\n            tls: {\n                rejectUnauthorized: false\n            }\n        });\n        // Email options\n        const mailOptions = {\n            from: process.env.senderEmail,\n            to: userMails.join(\",\"),\n            subject: subject,\n            text: text\n        };\n        // Send email\n        let info = await transporter.sendMail(mailOptions);\n        console.log(\"Email sent:\", info.response);\n    } catch (error) {\n        console.error(\"Error in sending email:\", error);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2NvbW1vbi9tYWlsLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSxhQUFhQyxtQkFBT0EsQ0FBQyw4QkFBWTtBQUVoQyxNQUFNQyxZQUFZLE9BQU8sRUFBRUMsU0FBUyxFQUFFQyxPQUFPLEVBQUVDLElBQUksRUFBTztJQUMvRCxJQUFJO1FBQ0YsTUFBTUMsY0FBY04sV0FBV08sZUFBZSxDQUFDO1lBQzdDQyxNQUFNQyxRQUFRQyxHQUFHLENBQUNDLFlBQVk7WUFDOUJDLE1BQU1ILFFBQVFDLEdBQUcsQ0FBQ0csWUFBWTtZQUM5QkMsUUFBUTtZQUNSQyxNQUFNO2dCQUNKQyxNQUFNUCxRQUFRQyxHQUFHLENBQUNPLFlBQVk7Z0JBQzlCQyxNQUFNVCxRQUFRQyxHQUFHLENBQUNTLFlBQVk7WUFDaEM7WUFDQUMsS0FBSztnQkFDSEMsb0JBQW9CO1lBQ3RCO1FBQ0Y7UUFFQSxnQkFBZ0I7UUFDaEIsTUFBTUMsY0FBYztZQUNsQkMsTUFBTWQsUUFBUUMsR0FBRyxDQUFDYyxXQUFXO1lBQzdCQyxJQUFJdEIsVUFBVXVCLElBQUksQ0FBQztZQUNuQnRCLFNBQVNBO1lBQ1RDLE1BQU1BO1FBQ1I7UUFFQSxhQUFhO1FBQ2IsSUFBSXNCLE9BQU8sTUFBTXJCLFlBQVlzQixRQUFRLENBQUNOO1FBQ3RDTyxRQUFRQyxHQUFHLENBQUMsZUFBZUgsS0FBS0ksUUFBUTtJQUMxQyxFQUFFLE9BQU9DLE9BQU87UUFDZEgsUUFBUUcsS0FBSyxDQUFDLDJCQUEyQkE7SUFDM0M7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtcGxlLy4vc3JjL3BhZ2VzL2FwaS9jb21tb24vbWFpbC50cz9kMDVkIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG5vZGVtYWlsZXIgPSByZXF1aXJlKFwibm9kZW1haWxlclwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZW5kRW1haWwgPSBhc3luYyAoeyB1c2VyTWFpbHMsIHN1YmplY3QsIHRleHQgfTogYW55KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gICAgICBob3N0OiBwcm9jZXNzLmVudi5BV1NfU0VTX0hPU1QsXHJcbiAgICAgIHBvcnQ6IHByb2Nlc3MuZW52LkFXU19TRVNfUE9SVCxcclxuICAgICAgc2VjdXJlOiBmYWxzZSxcclxuICAgICAgYXV0aDoge1xyXG4gICAgICAgIHVzZXI6IHByb2Nlc3MuZW52LkFXU19TRVNfVVNFUixcclxuICAgICAgICBwYXNzOiBwcm9jZXNzLmVudi5BV1NfU0VTX1BBU1MsXHJcbiAgICAgIH0sXHJcbiAgICAgIHRsczoge1xyXG4gICAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBFbWFpbCBvcHRpb25zXHJcbiAgICBjb25zdCBtYWlsT3B0aW9ucyA9IHtcclxuICAgICAgZnJvbTogcHJvY2Vzcy5lbnYuc2VuZGVyRW1haWwsXHJcbiAgICAgIHRvOiB1c2VyTWFpbHMuam9pbihcIixcIiksXHJcbiAgICAgIHN1YmplY3Q6IHN1YmplY3QsXHJcbiAgICAgIHRleHQ6IHRleHQsXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFNlbmQgZW1haWxcclxuICAgIGxldCBpbmZvID0gYXdhaXQgdHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMpO1xyXG4gICAgY29uc29sZS5sb2coXCJFbWFpbCBzZW50OlwiLCBpbmZvLnJlc3BvbnNlKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIHNlbmRpbmcgZW1haWw6XCIsIGVycm9yKTtcclxuICB9XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJub2RlbWFpbGVyIiwicmVxdWlyZSIsInNlbmRFbWFpbCIsInVzZXJNYWlscyIsInN1YmplY3QiLCJ0ZXh0IiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicHJvY2VzcyIsImVudiIsIkFXU19TRVNfSE9TVCIsInBvcnQiLCJBV1NfU0VTX1BPUlQiLCJzZWN1cmUiLCJhdXRoIiwidXNlciIsIkFXU19TRVNfVVNFUiIsInBhc3MiLCJBV1NfU0VTX1BBU1MiLCJ0bHMiLCJyZWplY3RVbmF1dGhvcml6ZWQiLCJtYWlsT3B0aW9ucyIsImZyb20iLCJzZW5kZXJFbWFpbCIsInRvIiwiam9pbiIsImluZm8iLCJzZW5kTWFpbCIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/common/mail.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/common/upload.ts":
/*!****************************************!*\
  !*** ./src/pages/api/common/upload.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFileUrlFromS3: () => (/* binding */ getFileUrlFromS3),\n/* harmony export */   uploadFileToS3: () => (/* binding */ uploadFileToS3)\n/* harmony export */ });\n/* harmony import */ var aws_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aws-sdk */ \"aws-sdk\");\n/* harmony import */ var aws_sdk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(aws_sdk__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n\n\naws_sdk__WEBPACK_IMPORTED_MODULE_0___default().config.update({\n    accessKeyId: process.env.AWS_ACCESS_KEY,\n    secretAccessKey: process.env.AWS_SECRET_KEY,\n    region: process.env.AWS_REGION\n});\nconst s3 = new (aws_sdk__WEBPACK_IMPORTED_MODULE_0___default().S3)();\nconst uploadFileToS3 = async (file)=>{\n    const fileContent = fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(file.path);\n    const params = {\n        Bucket: process.env.AWS_S3_BUCKET,\n        Key: `${file.originalname}`,\n        Body: fileContent,\n        ContentDisposition: \"inline\"\n    };\n    const uploadResult = await s3.upload(params).promise();\n    fs__WEBPACK_IMPORTED_MODULE_1___default().unlinkSync(file.path);\n    return uploadResult.Key;\n};\nconst getFileUrlFromS3 = async (fileKey)=>{\n    const params = {\n        Bucket: process.env.AWS_S3_BUCKET,\n        Key: fileKey\n    };\n    try {\n        const url = await s3.getSignedUrlPromise(\"getObject\", params);\n        return url;\n    } catch (error) {\n        console.error(\"Error getting file URL from S3:\", error);\n        throw error;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2NvbW1vbi91cGxvYWQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTBCO0FBQ047QUFFcEJBLHFEQUFVLENBQUNHLE1BQU0sQ0FBQztJQUNoQkMsYUFBYUMsUUFBUUMsR0FBRyxDQUFDQyxjQUFjO0lBQ3ZDQyxpQkFBaUJILFFBQVFDLEdBQUcsQ0FBQ0csY0FBYztJQUMzQ0MsUUFBUUwsUUFBUUMsR0FBRyxDQUFDSyxVQUFVO0FBQ2hDO0FBRUEsTUFBTUMsS0FBSyxJQUFJWixtREFBTTtBQUNkLE1BQU1jLGlCQUFpQixPQUFPQztJQUNuQyxNQUFNQyxjQUFjZixzREFBZSxDQUFDYyxLQUFLRyxJQUFJO0lBQzdDLE1BQU1DLFNBQVM7UUFDYkMsUUFBUWYsUUFBUUMsR0FBRyxDQUFDZSxhQUFhO1FBQ2pDQyxLQUFLLENBQUMsRUFBRVAsS0FBS1EsWUFBWSxDQUFDLENBQUM7UUFDM0JDLE1BQU1SO1FBQ05TLG9CQUFvQjtJQUN0QjtJQUVBLE1BQU1DLGVBQWUsTUFBTWQsR0FBR2UsTUFBTSxDQUFDUixRQUFRUyxPQUFPO0lBQ3BEM0Isb0RBQWEsQ0FBQ2MsS0FBS0csSUFBSTtJQUN2QixPQUFPUSxhQUFhSixHQUFHO0FBQ3pCLEVBQUU7QUFFSyxNQUFNUSxtQkFBbUIsT0FBT0M7SUFDckMsTUFBTVosU0FBUztRQUNiQyxRQUFRZixRQUFRQyxHQUFHLENBQUNlLGFBQWE7UUFDakNDLEtBQUtTO0lBQ1A7SUFFQSxJQUFJO1FBQ0YsTUFBTUMsTUFBTSxNQUFNcEIsR0FBR3FCLG1CQUFtQixDQUFDLGFBQWFkO1FBRXRELE9BQU9hO0lBQ1QsRUFBRSxPQUFPRSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxtQ0FBbUNBO1FBQ2pELE1BQU1BO0lBQ1I7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtcGxlLy4vc3JjL3BhZ2VzL2FwaS9jb21tb24vdXBsb2FkLnRzP2VmMDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFXUyBmcm9tIFwiYXdzLXNka1wiO1xyXG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XHJcblxyXG5BV1MuY29uZmlnLnVwZGF0ZSh7XHJcbiAgYWNjZXNzS2V5SWQ6IHByb2Nlc3MuZW52LkFXU19BQ0NFU1NfS0VZLFxyXG4gIHNlY3JldEFjY2Vzc0tleTogcHJvY2Vzcy5lbnYuQVdTX1NFQ1JFVF9LRVksXHJcbiAgcmVnaW9uOiBwcm9jZXNzLmVudi5BV1NfUkVHSU9OLFxyXG59KTtcclxuXHJcbmNvbnN0IHMzID0gbmV3IEFXUy5TMygpO1xyXG5leHBvcnQgY29uc3QgdXBsb2FkRmlsZVRvUzMgPSBhc3luYyAoZmlsZTogRXhwcmVzcy5NdWx0ZXIuRmlsZSkgPT4ge1xyXG4gIGNvbnN0IGZpbGVDb250ZW50ID0gZnMucmVhZEZpbGVTeW5jKGZpbGUucGF0aCk7XHJcbiAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgQnVja2V0OiBwcm9jZXNzLmVudi5BV1NfUzNfQlVDS0VULFxyXG4gICAgS2V5OiBgJHtmaWxlLm9yaWdpbmFsbmFtZX1gLFxyXG4gICAgQm9keTogZmlsZUNvbnRlbnQsXHJcbiAgICBDb250ZW50RGlzcG9zaXRpb246IFwiaW5saW5lXCIsXHJcbiAgfSBhcyBhbnk7XHJcblxyXG4gIGNvbnN0IHVwbG9hZFJlc3VsdCA9IGF3YWl0IHMzLnVwbG9hZChwYXJhbXMpLnByb21pc2UoKTtcclxuICBmcy51bmxpbmtTeW5jKGZpbGUucGF0aCk7XHJcbiAgcmV0dXJuIHVwbG9hZFJlc3VsdC5LZXk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0RmlsZVVybEZyb21TMyA9IGFzeW5jIChmaWxlS2V5OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xyXG4gIGNvbnN0IHBhcmFtcyA9IHtcclxuICAgIEJ1Y2tldDogcHJvY2Vzcy5lbnYuQVdTX1MzX0JVQ0tFVCxcclxuICAgIEtleTogZmlsZUtleSxcclxuICB9O1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgdXJsID0gYXdhaXQgczMuZ2V0U2lnbmVkVXJsUHJvbWlzZShcImdldE9iamVjdFwiLCBwYXJhbXMpO1xyXG5cclxuICAgIHJldHVybiB1cmw7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbGUgVVJMIGZyb20gUzM6XCIsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuIl0sIm5hbWVzIjpbIkFXUyIsImZzIiwiY29uZmlnIiwidXBkYXRlIiwiYWNjZXNzS2V5SWQiLCJwcm9jZXNzIiwiZW52IiwiQVdTX0FDQ0VTU19LRVkiLCJzZWNyZXRBY2Nlc3NLZXkiLCJBV1NfU0VDUkVUX0tFWSIsInJlZ2lvbiIsIkFXU19SRUdJT04iLCJzMyIsIlMzIiwidXBsb2FkRmlsZVRvUzMiLCJmaWxlIiwiZmlsZUNvbnRlbnQiLCJyZWFkRmlsZVN5bmMiLCJwYXRoIiwicGFyYW1zIiwiQnVja2V0IiwiQVdTX1MzX0JVQ0tFVCIsIktleSIsIm9yaWdpbmFsbmFtZSIsIkJvZHkiLCJDb250ZW50RGlzcG9zaXRpb24iLCJ1cGxvYWRSZXN1bHQiLCJ1cGxvYWQiLCJwcm9taXNlIiwidW5saW5rU3luYyIsImdldEZpbGVVcmxGcm9tUzMiLCJmaWxlS2V5IiwidXJsIiwiZ2V0U2lnbmVkVXJsUHJvbWlzZSIsImVycm9yIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/common/upload.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/config/db.ts":
/*!************************************!*\
  !*** ./src/pages/api/config/db.ts ***!
  \************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst pg = __webpack_require__(/*! pg */ \"pg\");\nmodule.exports = {\n    username: process.env.DB_USERNAME,\n    password: process.env.DB_PASSWORD,\n    database: process.env.DB_DATABASE,\n    host: process.env.DB_HOST,\n    dialect: process.env.DB_DIALECT,\n    dialectModule: pg\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2NvbmZpZy9kYi50cyIsIm1hcHBpbmdzIjoiO0FBQUEsTUFBTUEsS0FBS0MsbUJBQU9BLENBQUMsY0FBSTtBQUV2QkMsT0FBT0MsT0FBTyxHQUFHO0lBQ2ZDLFVBQVVDLFFBQVFDLEdBQUcsQ0FBQ0MsV0FBVztJQUNqQ0MsVUFBVUgsUUFBUUMsR0FBRyxDQUFDRyxXQUFXO0lBQ2pDQyxVQUFVTCxRQUFRQyxHQUFHLENBQUNLLFdBQVc7SUFDakNDLE1BQU1QLFFBQVFDLEdBQUcsQ0FBQ08sT0FBTztJQUN6QkMsU0FBU1QsUUFBUUMsR0FBRyxDQUFDUyxVQUFVO0lBQy9CQyxlQUFlaEI7QUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGUvLi9zcmMvcGFnZXMvYXBpL2NvbmZpZy9kYi50cz82Mjc0Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBnID0gcmVxdWlyZShcInBnXCIpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgdXNlcm5hbWU6IHByb2Nlc3MuZW52LkRCX1VTRVJOQU1FLFxyXG4gIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCxcclxuICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuREJfREFUQUJBU0UsXHJcbiAgaG9zdDogcHJvY2Vzcy5lbnYuREJfSE9TVCxcclxuICBkaWFsZWN0OiBwcm9jZXNzLmVudi5EQl9ESUFMRUNULFxyXG4gIGRpYWxlY3RNb2R1bGU6IHBnLFxyXG59O1xyXG4iXSwibmFtZXMiOlsicGciLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsInVzZXJuYW1lIiwicHJvY2VzcyIsImVudiIsIkRCX1VTRVJOQU1FIiwicGFzc3dvcmQiLCJEQl9QQVNTV09SRCIsImRhdGFiYXNlIiwiREJfREFUQUJBU0UiLCJob3N0IiwiREJfSE9TVCIsImRpYWxlY3QiLCJEQl9ESUFMRUNUIiwiZGlhbGVjdE1vZHVsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/config/db.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/controllers/file.ts":
/*!*******************************************!*\
  !*** ./src/pages/api/controllers/file.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _services_file__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/file */ \"(api)/./src/pages/api/services/file.ts\");\n/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models */ \"(api)/./src/pages/api/models/index.ts\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! multer */ \"multer\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(multer__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _common_upload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/upload */ \"(api)/./src/pages/api/common/upload.ts\");\n/* harmony import */ var _middlewares_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../middlewares/auth */ \"(api)/./src/pages/api/middlewares/auth.ts\");\n\n\n\n\n\nconst upload = multer__WEBPACK_IMPORTED_MODULE_2___default()({\n    dest: \"uploads/\"\n});\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\nconst multerSingle = upload.single(\"file\");\nfunction handler(req, res) {\n    const userData = (0,_middlewares_auth__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(req);\n    multerSingle(req, res, async (err)=>{\n        if (err) {\n            return res.status(500).json({\n                error: err.message\n            });\n        }\n        try {\n            await (0,_models__WEBPACK_IMPORTED_MODULE_1__.initializeDatabase)();\n            const { query: { id, docbox_id }, method } = req;\n            switch(method){\n                case \"GET\":\n                    let files;\n                    if (id) {\n                        files = await (0,_services_file__WEBPACK_IMPORTED_MODULE_0__.getFileByIdService)(id);\n                    } else if (docbox_id) {\n                        files = await (0,_services_file__WEBPACK_IMPORTED_MODULE_0__.getFileByDocBoxIdService)(docbox_id);\n                    } else {\n                        files = await (0,_services_file__WEBPACK_IMPORTED_MODULE_0__.getAllFilesService)(userData);\n                    }\n                    res.status(200).json({\n                        data: files,\n                        success: true\n                    });\n                    break;\n                case \"POST\":\n                    // Handle POST requests (File creation)\n                    console.log(\"????????????\", req.file);\n                    if (!req.file) {\n                        return res.status(400).json({\n                            error: \"No file uploaded\"\n                        });\n                    }\n                    const file_key = await (0,_common_upload__WEBPACK_IMPORTED_MODULE_3__.uploadFileToS3)(req.file);\n                    console.log(\"????????????\", file_key);\n                    const fileData = {\n                        ...req.body,\n                        file_url: file_key\n                    };\n                    const createdFile = await (0,_services_file__WEBPACK_IMPORTED_MODULE_0__.createFileService)(fileData, userData);\n                    res.status(201).json({\n                        data: createdFile,\n                        success: true\n                    });\n                    break;\n                case \"PUT\":\n                    if (!id) {\n                        return res.status(400).json({\n                            error: \"File ID is required for update\"\n                        });\n                    }\n                    let updatedFile;\n                    if (req.file) {\n                        const file_key = await (0,_common_upload__WEBPACK_IMPORTED_MODULE_3__.uploadFileToS3)(req.file);\n                        const fileData = {\n                            ...req.body,\n                            file_url: file_key\n                        };\n                        updatedFile = await (0,_services_file__WEBPACK_IMPORTED_MODULE_0__.updateFileService)(id, fileData, userData);\n                    } else {\n                        updatedFile = await (0,_services_file__WEBPACK_IMPORTED_MODULE_0__.updateFileService)(id, req.body, userData);\n                    }\n                    res.status(200).json({\n                        data: updatedFile,\n                        success: true\n                    });\n                    break;\n                case \"DELETE\":\n                    // Handle DELETE requests (File deletion)\n                    if (!id) {\n                        return res.status(400).json({\n                            error: \"File ID is required for deletion\"\n                        });\n                    }\n                    await (0,_services_file__WEBPACK_IMPORTED_MODULE_0__.deleteFileService)(id, userData);\n                    res.status(204).json({\n                        success: true\n                    });\n                    break;\n                default:\n                    // Handle other methods\n                    res.setHeader(\"Allow\", [\n                        \"GET\",\n                        \"POST\",\n                        \"PUT\",\n                        \"DELETE\"\n                    ]);\n                    res.status(405).end(`Method ${method} Not Allowed`);\n            }\n        } catch (error) {\n            res.status(500).json({\n                error: error.message\n            });\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2NvbnRyb2xsZXJzL2ZpbGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFRMEI7QUFDcUI7QUFDbkI7QUFDc0I7QUFDSTtBQU10RCxNQUFNVSxTQUFTSCw2Q0FBTUEsQ0FBQztJQUFFSSxNQUFNO0FBQVc7QUFFbEMsTUFBTUMsU0FBUztJQUNwQkMsS0FBSztRQUNIQyxZQUFZO0lBQ2Q7QUFDRixFQUFFO0FBRUYsTUFBTUMsZUFBZUwsT0FBT00sTUFBTSxDQUFDO0FBRXBCLFNBQVNDLFFBQ3RCQyxHQUEyQixFQUMzQkMsR0FBb0I7SUFFcEIsTUFBTUMsV0FBV1gsNkRBQW1CQSxDQUFDUztJQUNyQ0gsYUFBYUcsS0FBWUMsS0FBWSxPQUFPRTtRQUMxQyxJQUFJQSxLQUFLO1lBQ1AsT0FBT0YsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsT0FBT0gsSUFBSUksT0FBTztZQUFDO1FBQ25EO1FBRUEsSUFBSTtZQUNGLE1BQU1uQiwyREFBa0JBO1lBRXhCLE1BQU0sRUFDSm9CLE9BQU8sRUFBRUMsRUFBRSxFQUFFQyxTQUFTLEVBQUUsRUFDeEJDLE1BQU0sRUFDUCxHQUFHWDtZQUVKLE9BQVFXO2dCQUNOLEtBQUs7b0JBQ0gsSUFBSUM7b0JBQ0osSUFBSUgsSUFBSTt3QkFDTkcsUUFBUSxNQUFNNUIsa0VBQWtCQSxDQUFDeUI7b0JBQ25DLE9BQU8sSUFBSUMsV0FBVzt3QkFDcEJFLFFBQVEsTUFBTXpCLHdFQUF3QkEsQ0FBQ3VCO29CQUN6QyxPQUFPO3dCQUNMRSxRQUFRLE1BQU03QixrRUFBa0JBLENBQUNtQjtvQkFDbkM7b0JBQ0FELElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7d0JBQUVRLE1BQU1EO3dCQUFPRSxTQUFTO29CQUFLO29CQUNsRDtnQkFFRixLQUFLO29CQUNILHVDQUF1QztvQkFDdkNDLFFBQVFDLEdBQUcsQ0FBQyxnQkFBZ0JoQixJQUFJaUIsSUFBSTtvQkFDcEMsSUFBSSxDQUFDakIsSUFBSWlCLElBQUksRUFBRTt3QkFDYixPQUFPaEIsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQzs0QkFBRUMsT0FBTzt3QkFBbUI7b0JBQzFEO29CQUNBLE1BQU1ZLFdBQVcsTUFBTTVCLDhEQUFjQSxDQUFDVSxJQUFJaUIsSUFBSTtvQkFDOUNGLFFBQVFDLEdBQUcsQ0FBQyxnQkFBZ0JFO29CQUM1QixNQUFNQyxXQUFXO3dCQUNmLEdBQUduQixJQUFJb0IsSUFBSTt3QkFDWEMsVUFBVUg7b0JBQ1o7b0JBQ0EsTUFBTUksY0FBYyxNQUFNeEMsaUVBQWlCQSxDQUFDcUMsVUFBVWpCO29CQUN0REQsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQzt3QkFBRVEsTUFBTVM7d0JBQWFSLFNBQVM7b0JBQUs7b0JBQ3hEO2dCQUVGLEtBQUs7b0JBQ0gsSUFBSSxDQUFDTCxJQUFJO3dCQUNQLE9BQU9SLElBQ0pHLE1BQU0sQ0FBQyxLQUNQQyxJQUFJLENBQUM7NEJBQUVDLE9BQU87d0JBQWlDO29CQUNwRDtvQkFFQSxJQUFJaUI7b0JBQ0osSUFBSXZCLElBQUlpQixJQUFJLEVBQUU7d0JBQ1osTUFBTUMsV0FBVyxNQUFNNUIsOERBQWNBLENBQUNVLElBQUlpQixJQUFJO3dCQUM5QyxNQUFNRSxXQUFXOzRCQUNmLEdBQUduQixJQUFJb0IsSUFBSTs0QkFDWEMsVUFBVUg7d0JBQ1o7d0JBQ0FLLGNBQWMsTUFBTXRDLGlFQUFpQkEsQ0FBQ3dCLElBQUlVLFVBQVVqQjtvQkFDdEQsT0FBTzt3QkFDTHFCLGNBQWMsTUFBTXRDLGlFQUFpQkEsQ0FBQ3dCLElBQUlULElBQUlvQixJQUFJLEVBQUVsQjtvQkFDdEQ7b0JBRUFELElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7d0JBQUVRLE1BQU1VO3dCQUFhVCxTQUFTO29CQUFLO29CQUN4RDtnQkFFRixLQUFLO29CQUNILHlDQUF5QztvQkFDekMsSUFBSSxDQUFDTCxJQUFJO3dCQUNQLE9BQU9SLElBQ0pHLE1BQU0sQ0FBQyxLQUNQQyxJQUFJLENBQUM7NEJBQUVDLE9BQU87d0JBQW1DO29CQUN0RDtvQkFDQSxNQUFNcEIsaUVBQWlCQSxDQUFDdUIsSUFBSVA7b0JBQzVCRCxJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO3dCQUFFUyxTQUFTO29CQUFLO29CQUNyQztnQkFFRjtvQkFDRSx1QkFBdUI7b0JBQ3ZCYixJQUFJdUIsU0FBUyxDQUFDLFNBQVM7d0JBQUM7d0JBQU87d0JBQVE7d0JBQU87cUJBQVM7b0JBQ3ZEdkIsSUFBSUcsTUFBTSxDQUFDLEtBQUtxQixHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUVkLE9BQU8sWUFBWSxDQUFDO1lBQ3REO1FBQ0YsRUFBRSxPQUFPTCxPQUFZO1lBQ25CTCxJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxPQUFPQSxNQUFNQyxPQUFPO1lBQUM7UUFDOUM7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtcGxlLy4vc3JjL3BhZ2VzL2FwaS9jb250cm9sbGVycy9maWxlLnRzP2M1MmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gXCJuZXh0XCI7XHJcbmltcG9ydCB7XHJcbiAgY3JlYXRlRmlsZVNlcnZpY2UsXHJcbiAgZ2V0QWxsRmlsZXNTZXJ2aWNlLFxyXG4gIGdldEZpbGVCeUlkU2VydmljZSxcclxuICB1cGRhdGVGaWxlU2VydmljZSxcclxuICBkZWxldGVGaWxlU2VydmljZSxcclxuICBnZXRGaWxlQnlEb2NCb3hJZFNlcnZpY2UsXHJcbn0gZnJvbSBcIi4uL3NlcnZpY2VzL2ZpbGVcIjtcclxuaW1wb3J0IHsgaW5pdGlhbGl6ZURhdGFiYXNlIH0gZnJvbSBcIi4uL21vZGVsc1wiO1xyXG5pbXBvcnQgbXVsdGVyIGZyb20gXCJtdWx0ZXJcIjtcclxuaW1wb3J0IHsgdXBsb2FkRmlsZVRvUzMgfSBmcm9tIFwiLi4vY29tbW9uL3VwbG9hZFwiO1xyXG5pbXBvcnQgZ2V0TG9nZ2VkaW5Vc2VyRGF0YSBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiO1xyXG5cclxuaW50ZXJmYWNlIE5leHRBcGlSZXF1ZXN0V2l0aEZpbGUgZXh0ZW5kcyBOZXh0QXBpUmVxdWVzdCB7XHJcbiAgZmlsZTogRXhwcmVzcy5NdWx0ZXIuRmlsZTtcclxufVxyXG5cclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgZGVzdDogXCJ1cGxvYWRzL1wiIH0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICBhcGk6IHtcclxuICAgIGJvZHlQYXJzZXI6IGZhbHNlLFxyXG4gIH0sXHJcbn07XHJcblxyXG5jb25zdCBtdWx0ZXJTaW5nbGUgPSB1cGxvYWQuc2luZ2xlKFwiZmlsZVwiKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZXIoXHJcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdFdpdGhGaWxlLFxyXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlXHJcbikge1xyXG4gIGNvbnN0IHVzZXJEYXRhID0gZ2V0TG9nZ2VkaW5Vc2VyRGF0YShyZXEpO1xyXG4gIG11bHRlclNpbmdsZShyZXEgYXMgYW55LCByZXMgYXMgYW55LCBhc3luYyAoZXJyOiBhbnkpID0+IHtcclxuICAgIGlmIChlcnIpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVyci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IGluaXRpYWxpemVEYXRhYmFzZSgpO1xyXG5cclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIHF1ZXJ5OiB7IGlkLCBkb2Nib3hfaWQgfSxcclxuICAgICAgICBtZXRob2QsXHJcbiAgICAgIH0gPSByZXE7XHJcblxyXG4gICAgICBzd2l0Y2ggKG1ldGhvZCkge1xyXG4gICAgICAgIGNhc2UgXCJHRVRcIjpcclxuICAgICAgICAgIGxldCBmaWxlcztcclxuICAgICAgICAgIGlmIChpZCkge1xyXG4gICAgICAgICAgICBmaWxlcyA9IGF3YWl0IGdldEZpbGVCeUlkU2VydmljZShpZCk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGRvY2JveF9pZCkge1xyXG4gICAgICAgICAgICBmaWxlcyA9IGF3YWl0IGdldEZpbGVCeURvY0JveElkU2VydmljZShkb2Nib3hfaWQpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZmlsZXMgPSBhd2FpdCBnZXRBbGxGaWxlc1NlcnZpY2UodXNlckRhdGEpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBkYXRhOiBmaWxlcywgc3VjY2VzczogdHJ1ZSB9KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiUE9TVFwiOlxyXG4gICAgICAgICAgLy8gSGFuZGxlIFBPU1QgcmVxdWVzdHMgKEZpbGUgY3JlYXRpb24pXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIj8/Pz8/Pz8/Pz8/P1wiLCByZXEuZmlsZSk7XHJcbiAgICAgICAgICBpZiAoIXJlcS5maWxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBcIk5vIGZpbGUgdXBsb2FkZWRcIiB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbnN0IGZpbGVfa2V5ID0gYXdhaXQgdXBsb2FkRmlsZVRvUzMocmVxLmZpbGUpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCI/Pz8/Pz8/Pz8/Pz9cIiwgZmlsZV9rZXkpO1xyXG4gICAgICAgICAgY29uc3QgZmlsZURhdGEgPSB7XHJcbiAgICAgICAgICAgIC4uLnJlcS5ib2R5LCBcclxuICAgICAgICAgICAgZmlsZV91cmw6IGZpbGVfa2V5LFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGNvbnN0IGNyZWF0ZWRGaWxlID0gYXdhaXQgY3JlYXRlRmlsZVNlcnZpY2UoZmlsZURhdGEsIHVzZXJEYXRhKTtcclxuICAgICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgZGF0YTogY3JlYXRlZEZpbGUsIHN1Y2Nlc3M6IHRydWUgfSk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcIlBVVFwiOlxyXG4gICAgICAgICAgaWYgKCFpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzXHJcbiAgICAgICAgICAgICAgLnN0YXR1cyg0MDApXHJcbiAgICAgICAgICAgICAgLmpzb24oeyBlcnJvcjogXCJGaWxlIElEIGlzIHJlcXVpcmVkIGZvciB1cGRhdGVcIiB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBsZXQgdXBkYXRlZEZpbGU7XHJcbiAgICAgICAgICBpZiAocmVxLmZpbGUpIHtcclxuICAgICAgICAgICAgY29uc3QgZmlsZV9rZXkgPSBhd2FpdCB1cGxvYWRGaWxlVG9TMyhyZXEuZmlsZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbGVEYXRhID0ge1xyXG4gICAgICAgICAgICAgIC4uLnJlcS5ib2R5LFxyXG4gICAgICAgICAgICAgIGZpbGVfdXJsOiBmaWxlX2tleSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdXBkYXRlZEZpbGUgPSBhd2FpdCB1cGRhdGVGaWxlU2VydmljZShpZCwgZmlsZURhdGEsIHVzZXJEYXRhKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZWRGaWxlID0gYXdhaXQgdXBkYXRlRmlsZVNlcnZpY2UoaWQsIHJlcS5ib2R5LCB1c2VyRGF0YSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBkYXRhOiB1cGRhdGVkRmlsZSwgc3VjY2VzczogdHJ1ZSB9KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiREVMRVRFXCI6XHJcbiAgICAgICAgICAvLyBIYW5kbGUgREVMRVRFIHJlcXVlc3RzIChGaWxlIGRlbGV0aW9uKVxyXG4gICAgICAgICAgaWYgKCFpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzXHJcbiAgICAgICAgICAgICAgLnN0YXR1cyg0MDApXHJcbiAgICAgICAgICAgICAgLmpzb24oeyBlcnJvcjogXCJGaWxlIElEIGlzIHJlcXVpcmVkIGZvciBkZWxldGlvblwiIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYXdhaXQgZGVsZXRlRmlsZVNlcnZpY2UoaWQsIHVzZXJEYXRhKTtcclxuICAgICAgICAgIHJlcy5zdGF0dXMoMjA0KS5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgLy8gSGFuZGxlIG90aGVyIG1ldGhvZHNcclxuICAgICAgICAgIHJlcy5zZXRIZWFkZXIoXCJBbGxvd1wiLCBbXCJHRVRcIiwgXCJQT1NUXCIsIFwiUFVUXCIsIFwiREVMRVRFXCJdKTtcclxuICAgICAgICAgIHJlcy5zdGF0dXMoNDA1KS5lbmQoYE1ldGhvZCAke21ldGhvZH0gTm90IEFsbG93ZWRgKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVGaWxlU2VydmljZSIsImdldEFsbEZpbGVzU2VydmljZSIsImdldEZpbGVCeUlkU2VydmljZSIsInVwZGF0ZUZpbGVTZXJ2aWNlIiwiZGVsZXRlRmlsZVNlcnZpY2UiLCJnZXRGaWxlQnlEb2NCb3hJZFNlcnZpY2UiLCJpbml0aWFsaXplRGF0YWJhc2UiLCJtdWx0ZXIiLCJ1cGxvYWRGaWxlVG9TMyIsImdldExvZ2dlZGluVXNlckRhdGEiLCJ1cGxvYWQiLCJkZXN0IiwiY29uZmlnIiwiYXBpIiwiYm9keVBhcnNlciIsIm11bHRlclNpbmdsZSIsInNpbmdsZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJ1c2VyRGF0YSIsImVyciIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsIm1lc3NhZ2UiLCJxdWVyeSIsImlkIiwiZG9jYm94X2lkIiwibWV0aG9kIiwiZmlsZXMiLCJkYXRhIiwic3VjY2VzcyIsImNvbnNvbGUiLCJsb2ciLCJmaWxlIiwiZmlsZV9rZXkiLCJmaWxlRGF0YSIsImJvZHkiLCJmaWxlX3VybCIsImNyZWF0ZWRGaWxlIiwidXBkYXRlZEZpbGUiLCJzZXRIZWFkZXIiLCJlbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/controllers/file.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/middlewares/auth.ts":
/*!*******************************************!*\
  !*** ./src/pages/api/middlewares/auth.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @clerk/nextjs/server */ \"@clerk/nextjs/server\");\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_0__);\n\nconst getLoggedinUserData = (req)=>{\n    const { sessionClaims, userId } = (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_0__.getAuth)(req);\n    return {\n        role: sessionClaims?.metadata?.role,\n        userId\n    };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getLoggedinUserData);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL21pZGRsZXdhcmVzL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStDO0FBRy9DLE1BQU1DLHNCQUFzQixDQUFDQztJQUMzQixNQUFNLEVBQUVDLGFBQWEsRUFBRUMsTUFBTSxFQUFFLEdBQUdKLDZEQUFPQSxDQUFDRTtJQUMxQyxPQUFPO1FBQUVHLE1BQU1GLGVBQWVHLFVBQVVEO1FBQU1EO0lBQU87QUFDdkQ7QUFFQSxpRUFBZUgsbUJBQW1CQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtcGxlLy4vc3JjL3BhZ2VzL2FwaS9taWRkbGV3YXJlcy9hdXRoLnRzPzcwMTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0QXV0aCB9IGZyb20gXCJAY2xlcmsvbmV4dGpzL3NlcnZlclwiO1xyXG5pbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcclxuXHJcbmNvbnN0IGdldExvZ2dlZGluVXNlckRhdGEgPSAocmVxOiBOZXh0QXBpUmVxdWVzdCkgPT4ge1xyXG4gIGNvbnN0IHsgc2Vzc2lvbkNsYWltcywgdXNlcklkIH0gPSBnZXRBdXRoKHJlcSk7XHJcbiAgcmV0dXJuIHsgcm9sZTogc2Vzc2lvbkNsYWltcz8ubWV0YWRhdGE/LnJvbGUsIHVzZXJJZCB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZ2V0TG9nZ2VkaW5Vc2VyRGF0YTtcclxuIl0sIm5hbWVzIjpbImdldEF1dGgiLCJnZXRMb2dnZWRpblVzZXJEYXRhIiwicmVxIiwic2Vzc2lvbkNsYWltcyIsInVzZXJJZCIsInJvbGUiLCJtZXRhZGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/middlewares/auth.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/models/associations.ts":
/*!**********************************************!*\
  !*** ./src/pages/api/models/associations.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst applyAssociations = (sequelize)=>{\n    const { Files, DocBox, UsersDocBoxes } = sequelize.models;\n    Files.belongsTo(DocBox, {\n        foreignKey: \"doc_box\",\n        as: \"files\"\n    });\n    DocBox.hasMany(Files, {\n        foreignKey: \"doc_box\",\n        as: \"files\"\n    });\n    DocBox.hasMany(UsersDocBoxes, {\n        foreignKey: \"docbox_id\",\n        as: \"userDocBoxes\"\n    });\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (applyAssociations);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL21vZGVscy9hc3NvY2lhdGlvbnMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLG9CQUFvQixDQUFDQztJQUN6QixNQUFNLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFQyxhQUFhLEVBQUUsR0FBR0gsVUFBVUksTUFBTTtJQUV6REgsTUFBTUksU0FBUyxDQUFDSCxRQUFRO1FBQUVJLFlBQVk7UUFBV0MsSUFBSTtJQUFRO0lBQzdETCxPQUFPTSxPQUFPLENBQUNQLE9BQU87UUFBRUssWUFBWTtRQUFXQyxJQUFJO0lBQVE7SUFDM0RMLE9BQU9NLE9BQU8sQ0FBQ0wsZUFBZTtRQUM1QkcsWUFBWTtRQUNaQyxJQUFJO0lBQ047QUFDRjtBQUVBLGlFQUFlUixpQkFBaUJBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGUvLi9zcmMvcGFnZXMvYXBpL21vZGVscy9hc3NvY2lhdGlvbnMudHM/NmE5MyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhcHBseUFzc29jaWF0aW9ucyA9IChzZXF1ZWxpemU6IGFueSkgPT4ge1xyXG4gIGNvbnN0IHsgRmlsZXMsIERvY0JveCwgVXNlcnNEb2NCb3hlcyB9ID0gc2VxdWVsaXplLm1vZGVscztcclxuXHJcbiAgRmlsZXMuYmVsb25nc1RvKERvY0JveCwgeyBmb3JlaWduS2V5OiBcImRvY19ib3hcIiwgYXM6IFwiZmlsZXNcIiB9KTtcclxuICBEb2NCb3guaGFzTWFueShGaWxlcywgeyBmb3JlaWduS2V5OiBcImRvY19ib3hcIiwgYXM6IFwiZmlsZXNcIiB9KTtcclxuICBEb2NCb3guaGFzTWFueShVc2Vyc0RvY0JveGVzLCB7XHJcbiAgICBmb3JlaWduS2V5OiBcImRvY2JveF9pZFwiLFxyXG4gICAgYXM6IFwidXNlckRvY0JveGVzXCIsXHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhcHBseUFzc29jaWF0aW9ucztcclxuIl0sIm5hbWVzIjpbImFwcGx5QXNzb2NpYXRpb25zIiwic2VxdWVsaXplIiwiRmlsZXMiLCJEb2NCb3giLCJVc2Vyc0RvY0JveGVzIiwibW9kZWxzIiwiYmVsb25nc1RvIiwiZm9yZWlnbktleSIsImFzIiwiaGFzTWFueSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/models/associations.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/models/docbox.ts":
/*!****************************************!*\
  !*** ./src/pages/api/models/docbox.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DocBox)\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @swc/helpers/_/_ts_decorate */ \"(api)/./node_modules/@swc/helpers/cjs/_ts_decorate.cjs\");\n/* harmony import */ var _swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swc/helpers/_/_ts_metadata */ \"(api)/./node_modules/@swc/helpers/cjs/_ts_metadata.cjs\");\n/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sequelize-typescript */ \"sequelize-typescript\");\n/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nclass DocBox extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Model {\n}\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.PrimaryKey,\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], DocBox.prototype, \"id\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], DocBox.prototype, \"name\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], DocBox.prototype, \"description\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.CreatedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], DocBox.prototype, \"created_at\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.UpdatedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], DocBox.prototype, \"updated_at\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.DeletedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], DocBox.prototype, \"deleted_at\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], DocBox.prototype, \"created_by\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], DocBox.prototype, \"updated_by\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], DocBox.prototype, \"deleted_by\", void 0);\nDocBox = (0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    (0,sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Table)({\n        timestamps: true,\n        paranoid: true\n    })\n], DocBox);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL21vZGVscy9kb2Nib3gudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQVM4QjtBQXNCZixNQUFNTyxlQUFlTix1REFBS0E7QUErQnpDOztJQTNCR0UsNERBQVVBO0lBQ1ZELHdEQUFNQTs7R0FMWUs7O0lBUWxCTCx3REFBTUE7O0dBUllLOztJQVdsQkwsd0RBQU1BOztHQVhZSzs7SUFjbEJILDJEQUFTQTtzRkFDRztHQWZNRzs7SUFpQmxCRiwyREFBU0E7c0ZBQ0c7R0FsQk1FOztJQW9CbEJELDJEQUFTQTtzRkFDRztHQXJCTUM7O0lBdUJsQkwsd0RBQU1BOztHQXZCWUs7O0lBMEJsQkwsd0RBQU1BOztHQTFCWUs7O0lBNkJsQkwsd0RBQU1BOztHQTdCWUs7QUFBQUEsU0FBQUEsMkRBQUFBO0lBSnBCUCwyREFBS0EsQ0FBQztRQUNMUSxZQUFZO1FBQ1pDLFVBQVU7SUFDWjtHQUNxQkYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGUvLi9zcmMvcGFnZXMvYXBpL21vZGVscy9kb2Nib3gudHM/NDk0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIFRhYmxlLFxyXG4gIE1vZGVsLFxyXG4gIENvbHVtbixcclxuICBQcmltYXJ5S2V5LFxyXG4gIENyZWF0ZWRBdCxcclxuICBVcGRhdGVkQXQsXHJcbiAgRGVsZXRlZEF0LFxyXG4gIEhhc01hbnksXHJcbn0gZnJvbSBcInNlcXVlbGl6ZS10eXBlc2NyaXB0XCI7XHJcbmltcG9ydCB7IE9wdGlvbmFsIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xyXG5cclxuaW50ZXJmYWNlIERvY0JveEF0dHJpYnV0ZXMge1xyXG4gIGlkOiBzdHJpbmc7IC8vIEFscGhhbnVtZXJpYyBJRFxyXG4gIG5hbWU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbj86IHN0cmluZztcclxuICBjcmVhdGVkX2F0PzogRGF0ZTtcclxuICBjcmVhdGVkX2J5Pzogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ/OiBEYXRlO1xyXG4gIHVwZGF0ZWRfYnk/OiBzdHJpbmc7XHJcbiAgZGVsZXRlZF9hdD86IERhdGU7XHJcbiAgZGVsZXRlZF9ieT86IHN0cmluZztcclxuICBmaWxlcz86IEpTT05bXTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERvY0JveENyZWF0aW9uQXR0cmlidXRlcyBleHRlbmRzIE9wdGlvbmFsPERvY0JveEF0dHJpYnV0ZXMsIFwiaWRcIj4ge31cclxuXHJcbkBUYWJsZSh7XHJcbiAgdGltZXN0YW1wczogdHJ1ZSxcclxuICBwYXJhbm9pZDogdHJ1ZSxcclxufSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG9jQm94IGV4dGVuZHMgTW9kZWw8XHJcbiAgRG9jQm94QXR0cmlidXRlcyxcclxuICBEb2NCb3hDcmVhdGlvbkF0dHJpYnV0ZXNcclxuPiB7XHJcbiAgQFByaW1hcnlLZXlcclxuICBAQ29sdW1uXHJcbiAgaWQhOiBzdHJpbmc7XHJcblxyXG4gIEBDb2x1bW5cclxuICBuYW1lITogc3RyaW5nO1xyXG5cclxuICBAQ29sdW1uXHJcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XHJcblxyXG4gIEBDcmVhdGVkQXRcclxuICBjcmVhdGVkX2F0ITogRGF0ZTtcclxuXHJcbiAgQFVwZGF0ZWRBdFxyXG4gIHVwZGF0ZWRfYXQhOiBEYXRlO1xyXG5cclxuICBARGVsZXRlZEF0XHJcbiAgZGVsZXRlZF9hdD86IERhdGU7XHJcblxyXG4gIEBDb2x1bW5cclxuICBjcmVhdGVkX2J5Pzogc3RyaW5nO1xyXG5cclxuICBAQ29sdW1uXHJcbiAgdXBkYXRlZF9ieT86IHN0cmluZztcclxuXHJcbiAgQENvbHVtblxyXG4gIGRlbGV0ZWRfYnk/OiBzdHJpbmc7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlRhYmxlIiwiTW9kZWwiLCJDb2x1bW4iLCJQcmltYXJ5S2V5IiwiQ3JlYXRlZEF0IiwiVXBkYXRlZEF0IiwiRGVsZXRlZEF0IiwiRG9jQm94IiwidGltZXN0YW1wcyIsInBhcmFub2lkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/models/docbox.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/models/file.ts":
/*!**************************************!*\
  !*** ./src/pages/api/models/file.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Files)\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @swc/helpers/_/_ts_decorate */ \"(api)/./node_modules/@swc/helpers/cjs/_ts_decorate.cjs\");\n/* harmony import */ var _swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swc/helpers/_/_ts_metadata */ \"(api)/./node_modules/@swc/helpers/cjs/_ts_metadata.cjs\");\n/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sequelize-typescript */ \"sequelize-typescript\");\n/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nclass Files extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Model {\n}\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.PrimaryKey,\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.AutoIncrement,\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", Number)\n], Files.prototype, \"id\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], Files.prototype, \"name\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    (0,sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column)(sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.DataType.TEXT),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], Files.prototype, \"description\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], Files.prototype, \"file_url\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], Files.prototype, \"doc_box\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], Files.prototype, \"fencing_start_date\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], Files.prototype, \"fencing_end_date\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.CreatedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], Files.prototype, \"created_at\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.UpdatedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], Files.prototype, \"updated_at\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.DeletedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], Files.prototype, \"deleted_at\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], Files.prototype, \"created_by\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], Files.prototype, \"updated_by\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], Files.prototype, \"deleted_by\", void 0);\nFiles = (0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    (0,sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Table)({\n        timestamps: true,\n        paranoid: true\n    })\n], Files);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL21vZGVscy9maWxlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFZOEI7QUF5QmYsTUFBTVMsY0FBY1IsdURBQUtBO0FBNEN4Qzs7SUF4Q0dFLDREQUFVQTtJQUNWQywrREFBYUE7SUFDYkYsd0RBQU1BOztHQU5ZTzs7SUFTbEJQLHdEQUFNQTs7R0FUWU87O0lBWWxCUCw0REFBTUEsQ0FBQ00sMERBQVFBLENBQUNFLElBQUk7O0dBWkZEOztJQWVsQlAsd0RBQU1BOztHQWZZTzs7SUFrQmxCUCx3REFBTUE7O0dBbEJZTzs7SUFxQmxCUCx3REFBTUE7c0ZBQ2M7R0F0QkZPOztJQXdCbEJQLHdEQUFNQTtzRkFDWTtHQXpCQU87O0lBMkJsQkosMkRBQVNBO3NGQUNHO0dBNUJNSTs7SUE4QmxCSCwyREFBU0E7c0ZBQ0c7R0EvQk1HOztJQWlDbEJGLDJEQUFTQTtzRkFDRztHQWxDTUU7O0lBb0NsQlAsd0RBQU1BOztHQXBDWU87O0lBdUNsQlAsd0RBQU1BOztHQXZDWU87O0lBMENsQlAsd0RBQU1BOztHQTFDWU87QUFBQUEsUUFBQUEsMkRBQUFBO0lBSnBCVCwyREFBS0EsQ0FBQztRQUNMVyxZQUFZO1FBQ1pDLFVBQVU7SUFDWjtHQUNxQkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGUvLi9zcmMvcGFnZXMvYXBpL21vZGVscy9maWxlLnRzP2Q1OGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBUYWJsZSxcclxuICBNb2RlbCxcclxuICBDb2x1bW4sXHJcbiAgUHJpbWFyeUtleSxcclxuICBGb3JlaWduS2V5LFxyXG4gIEF1dG9JbmNyZW1lbnQsXHJcbiAgQ3JlYXRlZEF0LFxyXG4gIFVwZGF0ZWRBdCxcclxuICBEZWxldGVkQXQsXHJcbiAgRGF0YVR5cGUsXHJcbiAgQmVsb25nc1RvLFxyXG59IGZyb20gXCJzZXF1ZWxpemUtdHlwZXNjcmlwdFwiO1xyXG5pbXBvcnQgeyBPcHRpb25hbCB9IGZyb20gXCJzZXF1ZWxpemVcIjtcclxuXHJcbmludGVyZmFjZSBGaWxlc0F0dHJpYnV0ZXMge1xyXG4gIGlkOiBudW1iZXI7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgZmlsZV91cmw6IHN0cmluZztcclxuICBkb2NfYm94OiBudW1iZXI7XHJcbiAgZmVuY2luZ19lbmRfZGF0ZTogRGF0ZTtcclxuICBmZW5jaW5nX3N0YXJ0X2RhdGU6IERhdGU7XHJcbiAgY3JlYXRlZF9hdD86IERhdGU7XHJcbiAgY3JlYXRlZF9ieT86IHN0cmluZztcclxuICB1cGRhdGVkX2F0PzogRGF0ZTtcclxuICB1cGRhdGVkX2J5Pzogc3RyaW5nO1xyXG4gIGRlbGV0ZWRfYXQ/OiBEYXRlO1xyXG4gIGRlbGV0ZWRfYnk/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBGaWxlc0NyZWF0aW9uQXR0cmlidXRlcyBleHRlbmRzIE9wdGlvbmFsPEZpbGVzQXR0cmlidXRlcywgXCJpZFwiPiB7fVxyXG5cclxuQFRhYmxlKHtcclxuICB0aW1lc3RhbXBzOiB0cnVlLCAvLyBFbmFibGUgdGltZXN0YW1wc1xyXG4gIHBhcmFub2lkOiB0cnVlLCAvLyBFbmFibGUgc29mdCBkZWxldGlvbiAoYWRkcyBkZWxldGVkQXQpXHJcbn0pXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbGVzIGV4dGVuZHMgTW9kZWw8XHJcbiAgRmlsZXNBdHRyaWJ1dGVzLFxyXG4gIEZpbGVzQ3JlYXRpb25BdHRyaWJ1dGVzXHJcbj4ge1xyXG4gIEBQcmltYXJ5S2V5XHJcbiAgQEF1dG9JbmNyZW1lbnRcclxuICBAQ29sdW1uXHJcbiAgaWQhOiBudW1iZXI7XHJcblxyXG4gIEBDb2x1bW5cclxuICBuYW1lITogc3RyaW5nO1xyXG5cclxuICBAQ29sdW1uKERhdGFUeXBlLlRFWFQpXHJcbiAgZGVzY3JpcHRpb24hOiBzdHJpbmc7XHJcblxyXG4gIEBDb2x1bW5cclxuICBmaWxlX3VybCE6IHN0cmluZztcclxuXHJcbiAgQENvbHVtblxyXG4gIGRvY19ib3ghOiBzdHJpbmc7XHJcblxyXG4gIEBDb2x1bW5cclxuICBmZW5jaW5nX3N0YXJ0X2RhdGUhOiBEYXRlO1xyXG5cclxuICBAQ29sdW1uXHJcbiAgZmVuY2luZ19lbmRfZGF0ZSE6IERhdGU7XHJcblxyXG4gIEBDcmVhdGVkQXRcclxuICBjcmVhdGVkX2F0ITogRGF0ZTtcclxuXHJcbiAgQFVwZGF0ZWRBdFxyXG4gIHVwZGF0ZWRfYXQhOiBEYXRlO1xyXG5cclxuICBARGVsZXRlZEF0XHJcbiAgZGVsZXRlZF9hdD86IERhdGU7XHJcblxyXG4gIEBDb2x1bW5cclxuICBjcmVhdGVkX2J5Pzogc3RyaW5nO1xyXG5cclxuICBAQ29sdW1uXHJcbiAgdXBkYXRlZF9ieT86IHN0cmluZztcclxuXHJcbiAgQENvbHVtblxyXG4gIGRlbGV0ZWRfYnk/OiBzdHJpbmc7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlRhYmxlIiwiTW9kZWwiLCJDb2x1bW4iLCJQcmltYXJ5S2V5IiwiQXV0b0luY3JlbWVudCIsIkNyZWF0ZWRBdCIsIlVwZGF0ZWRBdCIsIkRlbGV0ZWRBdCIsIkRhdGFUeXBlIiwiRmlsZXMiLCJURVhUIiwidGltZXN0YW1wcyIsInBhcmFub2lkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/models/file.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/models/index.ts":
/*!***************************************!*\
  !*** ./src/pages/api/models/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DocBox: () => (/* reexport safe */ _docbox__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   Files: () => (/* reexport safe */ _file__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   UsersDocBoxes: () => (/* reexport safe */ _uses_docboxes__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   initializeDatabase: () => (/* binding */ initializeDatabase),\n/* harmony export */   sequelize: () => (/* binding */ sequelize)\n/* harmony export */ });\n/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sequelize-typescript */ \"sequelize-typescript\");\n/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _file__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./file */ \"(api)/./src/pages/api/models/file.ts\");\n/* harmony import */ var _docbox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./docbox */ \"(api)/./src/pages/api/models/docbox.ts\");\n/* harmony import */ var _uses_docboxes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./uses_docboxes */ \"(api)/./src/pages/api/models/uses_docboxes.ts\");\n/* harmony import */ var _associations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./associations */ \"(api)/./src/pages/api/models/associations.ts\");\nconst dbConfig = __webpack_require__(/*! ../config/db */ \"(api)/./src/pages/api/config/db.ts\");\n\n\n\n\n\nconst sequelize = new sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Sequelize({\n    database: dbConfig.database,\n    dialect: dbConfig.dialect,\n    username: dbConfig.username,\n    password: dbConfig.password,\n    host: dbConfig.host\n});\nsequelize.addModels([\n    _docbox__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    _file__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    _uses_docboxes__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n]);\n(0,_associations__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(sequelize);\nconst initializeDatabase = async ()=>{\n    try {\n        await sequelize.authenticate();\n        console.log(\"Connection has been established successfully.\");\n        await sequelize.sync({\n            force: false\n        });\n        console.log(\"Database synchronized\");\n    } catch (error) {\n        console.error(\"Unable to connect to the database or synchronize:\", error);\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sequelize);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL21vZGVscy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxNQUFNQSxXQUFXQyxtQkFBT0EsQ0FBQyx3REFBYztBQUNVO0FBQ3RCO0FBQ0c7QUFDYztBQUNHO0FBRS9DLE1BQU1NLFlBQVksSUFBSUwsMkRBQVNBLENBQUM7SUFDOUJNLFVBQVVSLFNBQVNRLFFBQVE7SUFDM0JDLFNBQVNULFNBQVNTLE9BQU87SUFDekJDLFVBQVVWLFNBQVNVLFFBQVE7SUFDM0JDLFVBQVVYLFNBQVNXLFFBQVE7SUFDM0JDLE1BQU1aLFNBQVNZLElBQUk7QUFFckI7QUFFQUwsVUFBVU0sU0FBUyxDQUFDO0lBQUNULCtDQUFNQTtJQUFFRCw2Q0FBS0E7SUFBRUUsc0RBQWFBO0NBQUM7QUFFbERDLHlEQUFpQkEsQ0FBQ0M7QUFDbEIsTUFBTU8scUJBQXFCO0lBQ3pCLElBQUk7UUFDRixNQUFNUCxVQUFVUSxZQUFZO1FBQzVCQyxRQUFRQyxHQUFHLENBQUM7UUFDWixNQUFNVixVQUFVVyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFNO1FBQ3BDSCxRQUFRQyxHQUFHLENBQUM7SUFDZCxFQUFFLE9BQU9HLE9BQU87UUFDZEosUUFBUUksS0FBSyxDQUFDLHFEQUFxREE7SUFDckU7QUFDRjtBQUVBLGlFQUFlYixTQUFTQSxFQUFDO0FBRThDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtcGxlLy4vc3JjL3BhZ2VzL2FwaS9tb2RlbHMvaW5kZXgudHM/MzBmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkYkNvbmZpZyA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGJcIik7XHJcbmltcG9ydCB7IFNlcXVlbGl6ZSB9IGZyb20gXCJzZXF1ZWxpemUtdHlwZXNjcmlwdFwiO1xyXG5pbXBvcnQgRmlsZXMgZnJvbSBcIi4vZmlsZVwiO1xyXG5pbXBvcnQgRG9jQm94IGZyb20gXCIuL2RvY2JveFwiO1xyXG5pbXBvcnQgVXNlcnNEb2NCb3hlcyBmcm9tIFwiLi91c2VzX2RvY2JveGVzXCI7XHJcbmltcG9ydCBhcHBseUFzc29jaWF0aW9ucyBmcm9tIFwiLi9hc3NvY2lhdGlvbnNcIjtcclxuXHJcbmNvbnN0IHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoe1xyXG4gIGRhdGFiYXNlOiBkYkNvbmZpZy5kYXRhYmFzZSxcclxuICBkaWFsZWN0OiBkYkNvbmZpZy5kaWFsZWN0LFxyXG4gIHVzZXJuYW1lOiBkYkNvbmZpZy51c2VybmFtZSxcclxuICBwYXNzd29yZDogZGJDb25maWcucGFzc3dvcmQsXHJcbiAgaG9zdDogZGJDb25maWcuaG9zdCxcclxuICAvLyBsb2dnaW5nOiBjb25zb2xlLmxvZyxcclxufSk7XHJcblxyXG5zZXF1ZWxpemUuYWRkTW9kZWxzKFtEb2NCb3gsIEZpbGVzLCBVc2Vyc0RvY0JveGVzXSk7XHJcblxyXG5hcHBseUFzc29jaWF0aW9ucyhzZXF1ZWxpemUpO1xyXG5jb25zdCBpbml0aWFsaXplRGF0YWJhc2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHNlcXVlbGl6ZS5hdXRoZW50aWNhdGUoKTtcclxuICAgIGNvbnNvbGUubG9nKFwiQ29ubmVjdGlvbiBoYXMgYmVlbiBlc3RhYmxpc2hlZCBzdWNjZXNzZnVsbHkuXCIpO1xyXG4gICAgYXdhaXQgc2VxdWVsaXplLnN5bmMoeyBmb3JjZTogZmFsc2UgfSk7XHJcbiAgICBjb25zb2xlLmxvZyhcIkRhdGFiYXNlIHN5bmNocm9uaXplZFwiKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBjb25uZWN0IHRvIHRoZSBkYXRhYmFzZSBvciBzeW5jaHJvbml6ZTpcIiwgZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNlcXVlbGl6ZTtcclxuXHJcbmV4cG9ydCB7IHNlcXVlbGl6ZSwgaW5pdGlhbGl6ZURhdGFiYXNlLCBEb2NCb3gsIEZpbGVzLCBVc2Vyc0RvY0JveGVzIH07XHJcbiJdLCJuYW1lcyI6WyJkYkNvbmZpZyIsInJlcXVpcmUiLCJTZXF1ZWxpemUiLCJGaWxlcyIsIkRvY0JveCIsIlVzZXJzRG9jQm94ZXMiLCJhcHBseUFzc29jaWF0aW9ucyIsInNlcXVlbGl6ZSIsImRhdGFiYXNlIiwiZGlhbGVjdCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJob3N0IiwiYWRkTW9kZWxzIiwiaW5pdGlhbGl6ZURhdGFiYXNlIiwiYXV0aGVudGljYXRlIiwiY29uc29sZSIsImxvZyIsInN5bmMiLCJmb3JjZSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/models/index.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/models/uses_docboxes.ts":
/*!***********************************************!*\
  !*** ./src/pages/api/models/uses_docboxes.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ UsersDocBoxes)\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @swc/helpers/_/_ts_decorate */ \"(api)/./node_modules/@swc/helpers/cjs/_ts_decorate.cjs\");\n/* harmony import */ var _swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swc/helpers/_/_ts_metadata */ \"(api)/./node_modules/@swc/helpers/cjs/_ts_metadata.cjs\");\n/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sequelize-typescript */ \"sequelize-typescript\");\n/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nclass UsersDocBoxes extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Model {\n}\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.PrimaryKey,\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.AutoIncrement,\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", Number)\n], UsersDocBoxes.prototype, \"id\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], UsersDocBoxes.prototype, \"user_id\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], UsersDocBoxes.prototype, \"docbox_id\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.CreatedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], UsersDocBoxes.prototype, \"created_at\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.UpdatedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], UsersDocBoxes.prototype, \"updated_at\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.DeletedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], UsersDocBoxes.prototype, \"deleted_at\", void 0);\nUsersDocBoxes = (0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    (0,sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Table)({\n        timestamps: true,\n        paranoid: true\n    })\n], UsersDocBoxes);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL21vZGVscy91c2VzX2RvY2JveGVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFVOEI7QUFtQmYsTUFBTVEsc0JBQXNCUCx1REFBS0E7QUF1QmhEOztJQW5CR0UsNERBQVVBO0lBQ1ZJLCtEQUFhQTtJQUNiTCx3REFBTUE7O0dBTllNOztJQVNsQk4sd0RBQU1BOztHQVRZTTs7SUFZbEJOLHdEQUFNQTs7R0FaWU07O0lBZWxCSiwyREFBU0E7c0ZBQ0c7R0FoQk1JOztJQWtCbEJILDJEQUFTQTtzRkFDRztHQW5CTUc7O0lBcUJsQkYsMkRBQVNBO3NGQUNHO0dBdEJNRTtBQUFBQSxnQkFBQUEsMkRBQUFBO0lBSnBCUiwyREFBS0EsQ0FBQztRQUNMUyxZQUFZO1FBQ1pDLFVBQVU7SUFDWjtHQUNxQkYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGUvLi9zcmMvcGFnZXMvYXBpL21vZGVscy91c2VzX2RvY2JveGVzLnRzPzQ5NGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBUYWJsZSxcclxuICBNb2RlbCxcclxuICBDb2x1bW4sXHJcbiAgUHJpbWFyeUtleSxcclxuICBDcmVhdGVkQXQsXHJcbiAgVXBkYXRlZEF0LFxyXG4gIERlbGV0ZWRBdCxcclxuICBIYXNNYW55LFxyXG4gIEF1dG9JbmNyZW1lbnQsXHJcbn0gZnJvbSBcInNlcXVlbGl6ZS10eXBlc2NyaXB0XCI7XHJcbmltcG9ydCB7IE9wdGlvbmFsIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xyXG5cclxuaW50ZXJmYWNlIFVzZXJEb2NCb3hBdHRyaWJ1dGVzIHtcclxuICBpZDogbnVtYmVyO1xyXG4gIHVzZXJfaWQ6IHN0cmluZztcclxuICBkb2Nib3hfaWQ/OiBzdHJpbmc7XHJcbiAgY3JlYXRlZF9hdD86IERhdGU7XHJcbiAgdXBkYXRlZF9hdD86IERhdGU7XHJcbiAgZGVsZXRlZF9hdD86IERhdGU7XHJcbn1cclxuXHJcbmludGVyZmFjZSBVc2VyRG9jQm94Q3JlYXRpb25BdHRyaWJ1dGVzXHJcbiAgZXh0ZW5kcyBPcHRpb25hbDxVc2VyRG9jQm94QXR0cmlidXRlcywgXCJpZFwiPiB7fVxyXG5cclxuQFRhYmxlKHtcclxuICB0aW1lc3RhbXBzOiB0cnVlLFxyXG4gIHBhcmFub2lkOiB0cnVlLFxyXG59KVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2Vyc0RvY0JveGVzIGV4dGVuZHMgTW9kZWw8XHJcbiAgVXNlckRvY0JveEF0dHJpYnV0ZXMsXHJcbiAgVXNlckRvY0JveENyZWF0aW9uQXR0cmlidXRlc1xyXG4+IHtcclxuICBAUHJpbWFyeUtleVxyXG4gIEBBdXRvSW5jcmVtZW50XHJcbiAgQENvbHVtblxyXG4gIGlkITogbnVtYmVyO1xyXG5cclxuICBAQ29sdW1uXHJcbiAgdXNlcl9pZCE6IHN0cmluZztcclxuXHJcbiAgQENvbHVtblxyXG4gIGRvY2JveF9pZCE6IHN0cmluZztcclxuXHJcbiAgQENyZWF0ZWRBdFxyXG4gIGNyZWF0ZWRfYXQhOiBEYXRlO1xyXG5cclxuICBAVXBkYXRlZEF0XHJcbiAgdXBkYXRlZF9hdCE6IERhdGU7XHJcblxyXG4gIEBEZWxldGVkQXRcclxuICBkZWxldGVkX2F0PzogRGF0ZTtcclxufVxyXG4iXSwibmFtZXMiOlsiVGFibGUiLCJNb2RlbCIsIkNvbHVtbiIsIlByaW1hcnlLZXkiLCJDcmVhdGVkQXQiLCJVcGRhdGVkQXQiLCJEZWxldGVkQXQiLCJBdXRvSW5jcmVtZW50IiwiVXNlcnNEb2NCb3hlcyIsInRpbWVzdGFtcHMiLCJwYXJhbm9pZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/models/uses_docboxes.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/services/file.ts":
/*!****************************************!*\
  !*** ./src/pages/api/services/file.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createFileService: () => (/* binding */ createFileService),\n/* harmony export */   deleteFileService: () => (/* binding */ deleteFileService),\n/* harmony export */   getAllFilesService: () => (/* binding */ getAllFilesService),\n/* harmony export */   getFileByDocBoxIdService: () => (/* binding */ getFileByDocBoxIdService),\n/* harmony export */   getFileByIdService: () => (/* binding */ getFileByIdService),\n/* harmony export */   updateFileService: () => (/* binding */ updateFileService)\n/* harmony export */ });\n/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models */ \"(api)/./src/pages/api/models/index.ts\");\n/* harmony import */ var _models_file__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/file */ \"(api)/./src/pages/api/models/file.ts\");\n/* harmony import */ var _common_upload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/upload */ \"(api)/./src/pages/api/common/upload.ts\");\n/* harmony import */ var _common_mail__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/mail */ \"(api)/./src/pages/api/common/mail.ts\");\n\n\n\n\nconst createFileService = async (fileData, userData)=>{\n    try {\n        const file = await _models_file__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n            created_by: userData.userId,\n            ...fileData\n        });\n        const fileUrl = await (0,_common_upload__WEBPACK_IMPORTED_MODULE_2__.getFileUrlFromS3)(file.file_url);\n        await (0,_common_mail__WEBPACK_IMPORTED_MODULE_3__.sendEmail)({\n            userMails: [\n                process.env.AdminEmail\n            ],\n            subject: `file created`,\n            text: `a new file - ${fileData.name} created in docbox - ${fileData.doc_box} by user - ${userData.userId}`\n        });\n        return {\n            ...file.toJSON(),\n            file_url: fileUrl\n        };\n    } catch (error) {\n        throw error;\n    }\n};\nconst getAllFilesService = async (userData)=>{\n    try {\n        let files;\n        if (userData.role !== \"admin\") {\n            const assignedDocBoxes = await _models__WEBPACK_IMPORTED_MODULE_0__.UsersDocBoxes.findAll({\n                where: {\n                    user_id: userData.userId\n                },\n                attributes: [\n                    \"docbox_id\"\n                ]\n            });\n            const assignedDocBoxIds = assignedDocBoxes.map((adb)=>adb.docbox_id);\n            files = await _models_file__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findAll({\n                where: {\n                    doc_box: assignedDocBoxIds,\n                    deleted_at: null\n                },\n                order: [\n                    [\n                        \"updated_at\",\n                        \"DESC\"\n                    ]\n                ]\n            });\n        } else {\n            files = await _models_file__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findAll({\n                where: {\n                    deleted_at: null\n                },\n                order: [\n                    [\n                        \"updated_at\",\n                        \"DESC\"\n                    ]\n                ]\n            });\n        }\n        if (!files) {\n            throw new Error(\"Files not found\");\n        }\n        const filesWithUrls = await Promise.all(files.map(async (file)=>{\n            const fileUrl = await (0,_common_upload__WEBPACK_IMPORTED_MODULE_2__.getFileUrlFromS3)(file.file_url);\n            return {\n                ...file.toJSON(),\n                file_url: fileUrl\n            };\n        }));\n        return filesWithUrls;\n    } catch (error) {\n        throw error;\n    }\n};\nconst getFileByIdService = async (id)=>{\n    try {\n        const file = await _models_file__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByPk(id);\n        if (!file) {\n            throw new Error(\"File not found\");\n        }\n        const fileUrl = await (0,_common_upload__WEBPACK_IMPORTED_MODULE_2__.getFileUrlFromS3)(file.file_url);\n        return {\n            ...file.toJSON(),\n            file_url: fileUrl\n        };\n    } catch (error) {\n        throw error;\n    }\n};\nconst getFileByDocBoxIdService = async (docbox_id)=>{\n    try {\n        const files = await _models_file__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findAll({\n            where: {\n                doc_box: docbox_id,\n                deleted_at: null\n            }\n        });\n        if (!files) {\n            throw new Error(\"Files not found\");\n        }\n        const filesWithUrls = await Promise.all(files.map(async (file)=>{\n            const fileUrl = await (0,_common_upload__WEBPACK_IMPORTED_MODULE_2__.getFileUrlFromS3)(file.file_url);\n            return {\n                ...file.toJSON(),\n                file_url: fileUrl\n            };\n        }));\n        return filesWithUrls;\n    } catch (error) {\n        throw error;\n    }\n};\nconst updateFileService = async (id, updateData, userData)=>{\n    try {\n        const file = await _models_file__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByPk(id);\n        if (!file) {\n            throw new Error(\"File not found\");\n        }\n        await file.update({\n            updated_by: userData.userId,\n            ...updateData\n        });\n        const fileUrl = await (0,_common_upload__WEBPACK_IMPORTED_MODULE_2__.getFileUrlFromS3)(file.file_url);\n        return {\n            ...file.toJSON(),\n            file_url: fileUrl\n        };\n    } catch (error) {\n        throw error;\n    }\n};\nconst deleteFileService = async (id, userData)=>{\n    try {\n        const file = await _models_file__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByPk(id);\n        if (!file) {\n            throw new Error(\"File not found\");\n        }\n        await file.update({\n            deleted_by: userData.userId\n        });\n        await file.destroy();\n        await (0,_common_mail__WEBPACK_IMPORTED_MODULE_3__.sendEmail)({\n            userMails: [\n                process.env.AdminEmail\n            ],\n            subject: `file deleted`,\n            text: `a file - ${file.name} was deleted in docbox - ${file.doc_box} by user - ${userData.userId}`\n        });\n        return {\n            message: \"File deleted successfully\"\n        };\n    } catch (error) {\n        throw error;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YUFBQztZQUNuQ0MsU0FBUyxDQUFDLFlBQVksQ0FBQztZQUN2QkMsTUFBTSxDQUFDLFNBQVMsRUFBRVgsS0FBS1ksSUFBSSxDQUFDLHlCQUF5QixFQUFFWixLQUFLYSxPQUFPLENBQUMsV0FBVyxFQUFFZCxTQUFTSSxNQUFNLENBQUMsQ0FBQztRQUNwRztRQUNBLE9BQU87WUFBRTBDLFNBQVM7UUFBNEI7SUFDaEQsRUFBRSxPQUFPOUIsT0FBTztRQUNkLE1BQU1BO0lBQ1I7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtcGxlLy4vc3JjL3BhZ2VzL2FwaS9zZXJ2aWNlcy9maWxlLnRzPzg5MjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlcnNEb2NCb3hlcyB9IGZyb20gXCIuLi9tb2RlbHNcIjtcclxuaW1wb3J0IEZpbGUgZnJvbSBcIi4uL21vZGVscy9maWxlXCI7XHJcbmltcG9ydCB7IGdldEZpbGVVcmxGcm9tUzMgfSBmcm9tIFwiLi4vY29tbW9uL3VwbG9hZFwiO1xyXG5pbXBvcnQgeyBzZW5kRW1haWwgfSBmcm9tIFwiLi4vY29tbW9uL21haWxcIjtcclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUZpbGVTZXJ2aWNlID0gYXN5bmMgKGZpbGVEYXRhOiBhbnksIHVzZXJEYXRhOiBhbnkpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZmlsZTogRmlsZSA9IGF3YWl0IEZpbGUuY3JlYXRlKHtcclxuICAgICAgY3JlYXRlZF9ieTogdXNlckRhdGEudXNlcklkLFxyXG4gICAgICAuLi5maWxlRGF0YSxcclxuICAgIH0pO1xyXG4gICAgY29uc3QgZmlsZVVybCA9IGF3YWl0IGdldEZpbGVVcmxGcm9tUzMoZmlsZS5maWxlX3VybCk7XHJcbiAgICBhd2FpdCBzZW5kRW1haWwoe1xyXG4gICAgICB1c2VyTWFpbHM6IFtwcm9jZXNzLmVudi5BZG1pbkVtYWlsXSxcclxuICAgICAgc3ViamVjdDogYGZpbGUgY3JlYXRlZGAsXHJcbiAgICAgIHRleHQ6IGBhIG5ldyBmaWxlIC0gJHtmaWxlRGF0YS5uYW1lfSBjcmVhdGVkIGluIGRvY2JveCAtICR7ZmlsZURhdGEuZG9jX2JveH0gYnkgdXNlciAtICR7dXNlckRhdGEudXNlcklkfWAsXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIC4uLmZpbGUudG9KU09OKCksXHJcbiAgICAgIGZpbGVfdXJsOiBmaWxlVXJsLFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldEFsbEZpbGVzU2VydmljZSA9IGFzeW5jICh1c2VyRGF0YTogYW55KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGxldCBmaWxlcztcclxuXHJcbiAgICBpZiAodXNlckRhdGEucm9sZSAhPT0gXCJhZG1pblwiKSB7XHJcbiAgICAgIGNvbnN0IGFzc2lnbmVkRG9jQm94ZXMgPSBhd2FpdCBVc2Vyc0RvY0JveGVzLmZpbmRBbGwoe1xyXG4gICAgICAgIHdoZXJlOiB7IHVzZXJfaWQ6IHVzZXJEYXRhLnVzZXJJZCB9LFxyXG4gICAgICAgIGF0dHJpYnV0ZXM6IFtcImRvY2JveF9pZFwiXSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCBhc3NpZ25lZERvY0JveElkcyA9IGFzc2lnbmVkRG9jQm94ZXMubWFwKChhZGIpID0+IGFkYi5kb2Nib3hfaWQpO1xyXG5cclxuICAgICAgZmlsZXMgPSBhd2FpdCBGaWxlLmZpbmRBbGwoe1xyXG4gICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICBkb2NfYm94OiBhc3NpZ25lZERvY0JveElkcyxcclxuICAgICAgICAgIGRlbGV0ZWRfYXQ6IG51bGwgYXMgYW55LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3JkZXI6IFtbXCJ1cGRhdGVkX2F0XCIsIFwiREVTQ1wiXV0sXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmlsZXMgPSBhd2FpdCBGaWxlLmZpbmRBbGwoe1xyXG4gICAgICAgIHdoZXJlOiB7IGRlbGV0ZWRfYXQ6IG51bGwgYXMgYW55IH0sXHJcbiAgICAgICAgb3JkZXI6IFtbXCJ1cGRhdGVkX2F0XCIsIFwiREVTQ1wiXV0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghZmlsZXMpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmlsZXMgbm90IGZvdW5kXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZpbGVzV2l0aFVybHMgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgZmlsZXMubWFwKGFzeW5jIChmaWxlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZmlsZVVybCA9IGF3YWl0IGdldEZpbGVVcmxGcm9tUzMoZmlsZS5maWxlX3VybCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIC4uLmZpbGUudG9KU09OKCksXHJcbiAgICAgICAgICBmaWxlX3VybDogZmlsZVVybCxcclxuICAgICAgICB9O1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gZmlsZXNXaXRoVXJscztcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldEZpbGVCeUlkU2VydmljZSA9IGFzeW5jIChpZDogYW55KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGZpbGUgPSBhd2FpdCBGaWxlLmZpbmRCeVBrKGlkKTtcclxuICAgIGlmICghZmlsZSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGaWxlIG5vdCBmb3VuZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmaWxlVXJsID0gYXdhaXQgZ2V0RmlsZVVybEZyb21TMyhmaWxlLmZpbGVfdXJsKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAuLi5maWxlLnRvSlNPTigpLFxyXG4gICAgICBmaWxlX3VybDogZmlsZVVybCxcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRGaWxlQnlEb2NCb3hJZFNlcnZpY2UgPSBhc3luYyAoZG9jYm94X2lkOiBhbnkpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZmlsZXMgPSBhd2FpdCBGaWxlLmZpbmRBbGwoe1xyXG4gICAgICB3aGVyZTogeyBkb2NfYm94OiBkb2Nib3hfaWQsIGRlbGV0ZWRfYXQ6IG51bGwgYXMgYW55IH0sXHJcbiAgICB9KTtcclxuICAgIGlmICghZmlsZXMpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmlsZXMgbm90IGZvdW5kXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZpbGVzV2l0aFVybHMgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgZmlsZXMubWFwKGFzeW5jIChmaWxlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZmlsZVVybCA9IGF3YWl0IGdldEZpbGVVcmxGcm9tUzMoZmlsZS5maWxlX3VybCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIC4uLmZpbGUudG9KU09OKCksXHJcbiAgICAgICAgICBmaWxlX3VybDogZmlsZVVybCxcclxuICAgICAgICB9O1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gZmlsZXNXaXRoVXJscztcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZUZpbGVTZXJ2aWNlID0gYXN5bmMgKFxyXG4gIGlkOiBhbnksXHJcbiAgdXBkYXRlRGF0YTogYW55LFxyXG4gIHVzZXJEYXRhOiBhbnlcclxuKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGZpbGUgPSBhd2FpdCBGaWxlLmZpbmRCeVBrKGlkKTtcclxuICAgIGlmICghZmlsZSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGaWxlIG5vdCBmb3VuZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCBmaWxlLnVwZGF0ZSh7IHVwZGF0ZWRfYnk6IHVzZXJEYXRhLnVzZXJJZCwgLi4udXBkYXRlRGF0YSB9KTtcclxuXHJcbiAgICBjb25zdCBmaWxlVXJsID0gYXdhaXQgZ2V0RmlsZVVybEZyb21TMyhmaWxlLmZpbGVfdXJsKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAuLi5maWxlLnRvSlNPTigpLFxyXG4gICAgICBmaWxlX3VybDogZmlsZVVybCxcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBkZWxldGVGaWxlU2VydmljZSA9IGFzeW5jIChpZDogYW55LCB1c2VyRGF0YTogYW55KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGZpbGUgPSBhd2FpdCBGaWxlLmZpbmRCeVBrKGlkKTtcclxuICAgIGlmICghZmlsZSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGaWxlIG5vdCBmb3VuZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCBmaWxlLnVwZGF0ZSh7IGRlbGV0ZWRfYnk6IHVzZXJEYXRhLnVzZXJJZCB9KTtcclxuICAgIGF3YWl0IGZpbGUuZGVzdHJveSgpO1xyXG4gICAgYXdhaXQgc2VuZEVtYWlsKHtcclxuICAgICAgdXNlck1haWxzOiBbcHJvY2Vzcy5lbnYuQWRtaW5FbWFpbF0sXHJcbiAgICAgIHN1YmplY3Q6IGBmaWxlIGRlbGV0ZWRgLFxyXG4gICAgICB0ZXh0OiBgYSBmaWxlIC0gJHtmaWxlLm5hbWV9IHdhcyBkZWxldGVkIGluIGRvY2JveCAtICR7ZmlsZS5kb2NfYm94fSBieSB1c2VyIC0gJHt1c2VyRGF0YS51c2VySWR9YCxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHsgbWVzc2FnZTogXCJGaWxlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5XCIgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG4iXSwibmFtZXMiOlsiVXNlcnNEb2NCb3hlcyIsIkZpbGUiLCJnZXRGaWxlVXJsRnJvbVMzIiwic2VuZEVtYWlsIiwiY3JlYXRlRmlsZVNlcnZpY2UiLCJmaWxlRGF0YSIsInVzZXJEYXRhIiwiZmlsZSIsImNyZWF0ZSIsImNyZWF0ZWRfYnkiLCJ1c2VySWQiLCJmaWxlVXJsIiwiZmlsZV91cmwiLCJ1c2VyTWFpbHMiLCJwcm9jZXNzIiwiZW52IiwiQWRtaW5FbWFpbCIsInN1YmplY3QiLCJ0ZXh0IiwibmFtZSIsImRvY19ib3giLCJ0b0pTT04iLCJlcnJvciIsImdldEFsbEZpbGVzU2VydmljZSIsImZpbGVzIiwicm9sZSIsImFzc2lnbmVkRG9jQm94ZXMiLCJmaW5kQWxsIiwid2hlcmUiLCJ1c2VyX2lkIiwiYXR0cmlidXRlcyIsImFzc2lnbmVkRG9jQm94SWRzIiwibWFwIiwiYWRiIiwiZG9jYm94X2lkIiwiZGVsZXRlZF9hdCIsIm9yZGVyIiwiRXJyb3IiLCJmaWxlc1dpdGhVcmxzIiwiUHJvbWlzZSIsImFsbCIsImdldEZpbGVCeUlkU2VydmljZSIsImlkIiwiZmluZEJ5UGsiLCJnZXRGaWxlQnlEb2NCb3hJZFNlcnZpY2UiLCJ1cGRhdGVGaWxlU2VydmljZSIsInVwZGF0ZURhdGEiLCJ1cGRhdGUiLCJ1cGRhdGVkX2J5IiwiZGVsZXRlRmlsZVNlcnZpY2UiLCJkZWxldGVkX2J5IiwiZGVzdHJveSIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/services/file.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcontrollers%2Ffile&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Ccontrollers%5Cfile.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();