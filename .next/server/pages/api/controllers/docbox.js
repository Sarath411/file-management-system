"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/controllers/docbox";
exports.ids = ["pages/api/controllers/docbox"];
exports.modules = {

/***/ "@clerk/nextjs":
/*!********************************!*\
  !*** external "@clerk/nextjs" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("@clerk/nextjs");

/***/ }),

/***/ "@clerk/nextjs/server":
/*!***************************************!*\
  !*** external "@clerk/nextjs/server" ***!
  \***************************************/
/***/ ((module) => {

module.exports = require("@clerk/nextjs/server");

/***/ }),

/***/ "aws-sdk":
/*!**************************!*\
  !*** external "aws-sdk" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("aws-sdk");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("pg");

/***/ }),

/***/ "sequelize-typescript":
/*!***************************************!*\
  !*** external "sequelize-typescript" ***!
  \***************************************/
/***/ ((module) => {

module.exports = require("sequelize-typescript");

/***/ }),

/***/ "tslib":
/*!************************!*\
  !*** external "tslib" ***!
  \************************/
/***/ ((module) => {

module.exports = require("tslib");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcontrollers%2Fdocbox&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Ccontrollers%5Cdocbox.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcontrollers%2Fdocbox&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Ccontrollers%5Cdocbox.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_controllers_docbox_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\controllers\\docbox.ts */ \"(api)/./src/pages/api/controllers/docbox.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_controllers_docbox_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_controllers_docbox_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/controllers/docbox\",\n        pathname: \"/api/controllers/docbox\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_controllers_docbox_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNvbnRyb2xsZXJzJTJGZG9jYm94JnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGc3JjJTVDcGFnZXMlNUNhcGklNUNjb250cm9sbGVycyU1Q2RvY2JveC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNzRTtBQUN0RTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsaUVBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLGlFQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3NhbXBsZS8/NDFlZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjXFxcXHBhZ2VzXFxcXGFwaVxcXFxjb250cm9sbGVyc1xcXFxkb2Nib3gudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jb250cm9sbGVycy9kb2Nib3hcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jb250cm9sbGVycy9kb2Nib3hcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcontrollers%2Fdocbox&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Ccontrollers%5Cdocbox.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/common/mail.ts":
/*!**************************************!*\
  !*** ./src/pages/api/common/mail.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendEmail: () => (/* binding */ sendEmail)\n/* harmony export */ });\nconst nodemailer = __webpack_require__(/*! nodemailer */ \"nodemailer\");\nconst sendEmail = async ({ userMails, subject, text })=>{\n    try {\n        const transporter = nodemailer.createTransport({\n            host: process.env.AWS_SES_HOST,\n            port: process.env.AWS_SES_PORT,\n            secure: false,\n            auth: {\n                user: process.env.AWS_SES_USER,\n                pass: process.env.AWS_SES_PASS\n            },\n            tls: {\n                rejectUnauthorized: false\n            }\n        });\n        // Email options\n        const mailOptions = {\n            from: process.env.senderEmail,\n            to: userMails.join(\",\"),\n            subject: subject,\n            text: text\n        };\n        // Send email\n        let info = await transporter.sendMail(mailOptions);\n        console.log(\"Email sent:\", info.response);\n    } catch (error) {\n        console.error(\"Error in sending email:\", error);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2NvbW1vbi9tYWlsLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSxhQUFhQyxtQkFBT0EsQ0FBQyw4QkFBWTtBQUVoQyxNQUFNQyxZQUFZLE9BQU8sRUFBRUMsU0FBUyxFQUFFQyxPQUFPLEVBQUVDLElBQUksRUFBTztJQUMvRCxJQUFJO1FBQ0YsTUFBTUMsY0FBY04sV0FBV08sZUFBZSxDQUFDO1lBQzdDQyxNQUFNQyxRQUFRQyxHQUFHLENBQUNDLFlBQVk7WUFDOUJDLE1BQU1ILFFBQVFDLEdBQUcsQ0FBQ0csWUFBWTtZQUM5QkMsUUFBUTtZQUNSQyxNQUFNO2dCQUNKQyxNQUFNUCxRQUFRQyxHQUFHLENBQUNPLFlBQVk7Z0JBQzlCQyxNQUFNVCxRQUFRQyxHQUFHLENBQUNTLFlBQVk7WUFDaEM7WUFDQUMsS0FBSztnQkFDSEMsb0JBQW9CO1lBQ3RCO1FBQ0Y7UUFFQSxnQkFBZ0I7UUFDaEIsTUFBTUMsY0FBYztZQUNsQkMsTUFBTWQsUUFBUUMsR0FBRyxDQUFDYyxXQUFXO1lBQzdCQyxJQUFJdEIsVUFBVXVCLElBQUksQ0FBQztZQUNuQnRCLFNBQVNBO1lBQ1RDLE1BQU1BO1FBQ1I7UUFFQSxhQUFhO1FBQ2IsSUFBSXNCLE9BQU8sTUFBTXJCLFlBQVlzQixRQUFRLENBQUNOO1FBQ3RDTyxRQUFRQyxHQUFHLENBQUMsZUFBZUgsS0FBS0ksUUFBUTtJQUMxQyxFQUFFLE9BQU9DLE9BQU87UUFDZEgsUUFBUUcsS0FBSyxDQUFDLDJCQUEyQkE7SUFDM0M7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtcGxlLy4vc3JjL3BhZ2VzL2FwaS9jb21tb24vbWFpbC50cz9kMDVkIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG5vZGVtYWlsZXIgPSByZXF1aXJlKFwibm9kZW1haWxlclwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZW5kRW1haWwgPSBhc3luYyAoeyB1c2VyTWFpbHMsIHN1YmplY3QsIHRleHQgfTogYW55KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gICAgICBob3N0OiBwcm9jZXNzLmVudi5BV1NfU0VTX0hPU1QsXHJcbiAgICAgIHBvcnQ6IHByb2Nlc3MuZW52LkFXU19TRVNfUE9SVCxcclxuICAgICAgc2VjdXJlOiBmYWxzZSxcclxuICAgICAgYXV0aDoge1xyXG4gICAgICAgIHVzZXI6IHByb2Nlc3MuZW52LkFXU19TRVNfVVNFUixcclxuICAgICAgICBwYXNzOiBwcm9jZXNzLmVudi5BV1NfU0VTX1BBU1MsXHJcbiAgICAgIH0sXHJcbiAgICAgIHRsczoge1xyXG4gICAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBFbWFpbCBvcHRpb25zXHJcbiAgICBjb25zdCBtYWlsT3B0aW9ucyA9IHtcclxuICAgICAgZnJvbTogcHJvY2Vzcy5lbnYuc2VuZGVyRW1haWwsXHJcbiAgICAgIHRvOiB1c2VyTWFpbHMuam9pbihcIixcIiksXHJcbiAgICAgIHN1YmplY3Q6IHN1YmplY3QsXHJcbiAgICAgIHRleHQ6IHRleHQsXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFNlbmQgZW1haWxcclxuICAgIGxldCBpbmZvID0gYXdhaXQgdHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMpO1xyXG4gICAgY29uc29sZS5sb2coXCJFbWFpbCBzZW50OlwiLCBpbmZvLnJlc3BvbnNlKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIHNlbmRpbmcgZW1haWw6XCIsIGVycm9yKTtcclxuICB9XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJub2RlbWFpbGVyIiwicmVxdWlyZSIsInNlbmRFbWFpbCIsInVzZXJNYWlscyIsInN1YmplY3QiLCJ0ZXh0IiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicHJvY2VzcyIsImVudiIsIkFXU19TRVNfSE9TVCIsInBvcnQiLCJBV1NfU0VTX1BPUlQiLCJzZWN1cmUiLCJhdXRoIiwidXNlciIsIkFXU19TRVNfVVNFUiIsInBhc3MiLCJBV1NfU0VTX1BBU1MiLCJ0bHMiLCJyZWplY3RVbmF1dGhvcml6ZWQiLCJtYWlsT3B0aW9ucyIsImZyb20iLCJzZW5kZXJFbWFpbCIsInRvIiwiam9pbiIsImluZm8iLCJzZW5kTWFpbCIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/common/mail.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/common/upload.ts":
/*!****************************************!*\
  !*** ./src/pages/api/common/upload.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFileUrlFromS3: () => (/* binding */ getFileUrlFromS3),\n/* harmony export */   uploadFileToS3: () => (/* binding */ uploadFileToS3)\n/* harmony export */ });\n/* harmony import */ var aws_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aws-sdk */ \"aws-sdk\");\n/* harmony import */ var aws_sdk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(aws_sdk__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n\n\naws_sdk__WEBPACK_IMPORTED_MODULE_0___default().config.update({\n    accessKeyId: process.env.AWS_ACCESS_KEY,\n    secretAccessKey: process.env.AWS_SECRET_KEY,\n    region: process.env.AWS_REGION\n});\nconst s3 = new (aws_sdk__WEBPACK_IMPORTED_MODULE_0___default().S3)();\nconst uploadFileToS3 = async (file)=>{\n    const fileContent = fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(file.path);\n    const params = {\n        Bucket: process.env.AWS_S3_BUCKET,\n        Key: `${file.originalname}`,\n        Body: fileContent,\n        ContentDisposition: \"inline\"\n    };\n    const uploadResult = await s3.upload(params).promise();\n    fs__WEBPACK_IMPORTED_MODULE_1___default().unlinkSync(file.path);\n    return uploadResult.Key;\n};\nconst getFileUrlFromS3 = async (fileKey)=>{\n    const params = {\n        Bucket: process.env.AWS_S3_BUCKET,\n        Key: fileKey\n    };\n    try {\n        const url = await s3.getSignedUrlPromise(\"getObject\", params);\n        return url;\n    } catch (error) {\n        console.error(\"Error getting file URL from S3:\", error);\n        throw error;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2NvbW1vbi91cGxvYWQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTBCO0FBQ047QUFFcEJBLHFEQUFVLENBQUNHLE1BQU0sQ0FBQztJQUNoQkMsYUFBYUMsUUFBUUMsR0FBRyxDQUFDQyxjQUFjO0lBQ3ZDQyxpQkFBaUJILFFBQVFDLEdBQUcsQ0FBQ0csY0FBYztJQUMzQ0MsUUFBUUwsUUFBUUMsR0FBRyxDQUFDSyxVQUFVO0FBQ2hDO0FBRUEsTUFBTUMsS0FBSyxJQUFJWixtREFBTTtBQUNkLE1BQU1jLGlCQUFpQixPQUFPQztJQUNuQyxNQUFNQyxjQUFjZixzREFBZSxDQUFDYyxLQUFLRyxJQUFJO0lBQzdDLE1BQU1DLFNBQVM7UUFDYkMsUUFBUWYsUUFBUUMsR0FBRyxDQUFDZSxhQUFhO1FBQ2pDQyxLQUFLLENBQUMsRUFBRVAsS0FBS1EsWUFBWSxDQUFDLENBQUM7UUFDM0JDLE1BQU1SO1FBQ05TLG9CQUFvQjtJQUN0QjtJQUVBLE1BQU1DLGVBQWUsTUFBTWQsR0FBR2UsTUFBTSxDQUFDUixRQUFRUyxPQUFPO0lBQ3BEM0Isb0RBQWEsQ0FBQ2MsS0FBS0csSUFBSTtJQUN2QixPQUFPUSxhQUFhSixHQUFHO0FBQ3pCLEVBQUU7QUFFSyxNQUFNUSxtQkFBbUIsT0FBT0M7SUFDckMsTUFBTVosU0FBUztRQUNiQyxRQUFRZixRQUFRQyxHQUFHLENBQUNlLGFBQWE7UUFDakNDLEtBQUtTO0lBQ1A7SUFFQSxJQUFJO1FBQ0YsTUFBTUMsTUFBTSxNQUFNcEIsR0FBR3FCLG1CQUFtQixDQUFDLGFBQWFkO1FBRXRELE9BQU9hO0lBQ1QsRUFBRSxPQUFPRSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxtQ0FBbUNBO1FBQ2pELE1BQU1BO0lBQ1I7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtcGxlLy4vc3JjL3BhZ2VzL2FwaS9jb21tb24vdXBsb2FkLnRzP2VmMDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFXUyBmcm9tIFwiYXdzLXNka1wiO1xyXG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XHJcblxyXG5BV1MuY29uZmlnLnVwZGF0ZSh7XHJcbiAgYWNjZXNzS2V5SWQ6IHByb2Nlc3MuZW52LkFXU19BQ0NFU1NfS0VZLFxyXG4gIHNlY3JldEFjY2Vzc0tleTogcHJvY2Vzcy5lbnYuQVdTX1NFQ1JFVF9LRVksXHJcbiAgcmVnaW9uOiBwcm9jZXNzLmVudi5BV1NfUkVHSU9OLFxyXG59KTtcclxuXHJcbmNvbnN0IHMzID0gbmV3IEFXUy5TMygpO1xyXG5leHBvcnQgY29uc3QgdXBsb2FkRmlsZVRvUzMgPSBhc3luYyAoZmlsZTogRXhwcmVzcy5NdWx0ZXIuRmlsZSkgPT4ge1xyXG4gIGNvbnN0IGZpbGVDb250ZW50ID0gZnMucmVhZEZpbGVTeW5jKGZpbGUucGF0aCk7XHJcbiAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgQnVja2V0OiBwcm9jZXNzLmVudi5BV1NfUzNfQlVDS0VULFxyXG4gICAgS2V5OiBgJHtmaWxlLm9yaWdpbmFsbmFtZX1gLFxyXG4gICAgQm9keTogZmlsZUNvbnRlbnQsXHJcbiAgICBDb250ZW50RGlzcG9zaXRpb246IFwiaW5saW5lXCIsXHJcbiAgfSBhcyBhbnk7XHJcblxyXG4gIGNvbnN0IHVwbG9hZFJlc3VsdCA9IGF3YWl0IHMzLnVwbG9hZChwYXJhbXMpLnByb21pc2UoKTtcclxuICBmcy51bmxpbmtTeW5jKGZpbGUucGF0aCk7XHJcbiAgcmV0dXJuIHVwbG9hZFJlc3VsdC5LZXk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0RmlsZVVybEZyb21TMyA9IGFzeW5jIChmaWxlS2V5OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xyXG4gIGNvbnN0IHBhcmFtcyA9IHtcclxuICAgIEJ1Y2tldDogcHJvY2Vzcy5lbnYuQVdTX1MzX0JVQ0tFVCxcclxuICAgIEtleTogZmlsZUtleSxcclxuICB9O1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgdXJsID0gYXdhaXQgczMuZ2V0U2lnbmVkVXJsUHJvbWlzZShcImdldE9iamVjdFwiLCBwYXJhbXMpO1xyXG5cclxuICAgIHJldHVybiB1cmw7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbGUgVVJMIGZyb20gUzM6XCIsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuIl0sIm5hbWVzIjpbIkFXUyIsImZzIiwiY29uZmlnIiwidXBkYXRlIiwiYWNjZXNzS2V5SWQiLCJwcm9jZXNzIiwiZW52IiwiQVdTX0FDQ0VTU19LRVkiLCJzZWNyZXRBY2Nlc3NLZXkiLCJBV1NfU0VDUkVUX0tFWSIsInJlZ2lvbiIsIkFXU19SRUdJT04iLCJzMyIsIlMzIiwidXBsb2FkRmlsZVRvUzMiLCJmaWxlIiwiZmlsZUNvbnRlbnQiLCJyZWFkRmlsZVN5bmMiLCJwYXRoIiwicGFyYW1zIiwiQnVja2V0IiwiQVdTX1MzX0JVQ0tFVCIsIktleSIsIm9yaWdpbmFsbmFtZSIsIkJvZHkiLCJDb250ZW50RGlzcG9zaXRpb24iLCJ1cGxvYWRSZXN1bHQiLCJ1cGxvYWQiLCJwcm9taXNlIiwidW5saW5rU3luYyIsImdldEZpbGVVcmxGcm9tUzMiLCJmaWxlS2V5IiwidXJsIiwiZ2V0U2lnbmVkVXJsUHJvbWlzZSIsImVycm9yIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/common/upload.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/config/db.ts":
/*!************************************!*\
  !*** ./src/pages/api/config/db.ts ***!
  \************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst pg = __webpack_require__(/*! pg */ \"pg\");\nmodule.exports = {\n    username: process.env.DB_USERNAME,\n    password: process.env.DB_PASSWORD,\n    database: process.env.DB_DATABASE,\n    host: process.env.DB_HOST,\n    dialect: process.env.DB_DIALECT,\n    dialectModule: pg\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2NvbmZpZy9kYi50cyIsIm1hcHBpbmdzIjoiO0FBQUEsTUFBTUEsS0FBS0MsbUJBQU9BLENBQUMsY0FBSTtBQUV2QkMsT0FBT0MsT0FBTyxHQUFHO0lBQ2ZDLFVBQVVDLFFBQVFDLEdBQUcsQ0FBQ0MsV0FBVztJQUNqQ0MsVUFBVUgsUUFBUUMsR0FBRyxDQUFDRyxXQUFXO0lBQ2pDQyxVQUFVTCxRQUFRQyxHQUFHLENBQUNLLFdBQVc7SUFDakNDLE1BQU1QLFFBQVFDLEdBQUcsQ0FBQ08sT0FBTztJQUN6QkMsU0FBU1QsUUFBUUMsR0FBRyxDQUFDUyxVQUFVO0lBQy9CQyxlQUFlaEI7QUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGUvLi9zcmMvcGFnZXMvYXBpL2NvbmZpZy9kYi50cz82Mjc0Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBnID0gcmVxdWlyZShcInBnXCIpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgdXNlcm5hbWU6IHByb2Nlc3MuZW52LkRCX1VTRVJOQU1FLFxyXG4gIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCxcclxuICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuREJfREFUQUJBU0UsXHJcbiAgaG9zdDogcHJvY2Vzcy5lbnYuREJfSE9TVCxcclxuICBkaWFsZWN0OiBwcm9jZXNzLmVudi5EQl9ESUFMRUNULFxyXG4gIGRpYWxlY3RNb2R1bGU6IHBnLFxyXG59O1xyXG4iXSwibmFtZXMiOlsicGciLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsInVzZXJuYW1lIiwicHJvY2VzcyIsImVudiIsIkRCX1VTRVJOQU1FIiwicGFzc3dvcmQiLCJEQl9QQVNTV09SRCIsImRhdGFiYXNlIiwiREJfREFUQUJBU0UiLCJob3N0IiwiREJfSE9TVCIsImRpYWxlY3QiLCJEQl9ESUFMRUNUIiwiZGlhbGVjdE1vZHVsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/config/db.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/controllers/docbox.ts":
/*!*********************************************!*\
  !*** ./src/pages/api/controllers/docbox.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _services_docbox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/docbox */ \"(api)/./src/pages/api/services/docbox.ts\");\n/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models */ \"(api)/./src/pages/api/models/index.ts\");\n/* harmony import */ var _middlewares_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../middlewares/auth */ \"(api)/./src/pages/api/middlewares/auth.ts\");\n\n\n//for user role and id\n\nasync function handler(req, res) {\n    try {\n        await (0,_models__WEBPACK_IMPORTED_MODULE_1__.initializeDatabase)();\n        const userData = (0,_middlewares_auth__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(req);\n        console.log(\"userDATA//////////////////\", userData?.userId, userData?.role);\n        const { query: { id }, method } = req;\n        switch(method){\n            case \"GET\":\n                // Handle GET requests\n                const docBoxes = id ? await (0,_services_docbox__WEBPACK_IMPORTED_MODULE_0__.getDocBoxByIdService)(id, userData) : await (0,_services_docbox__WEBPACK_IMPORTED_MODULE_0__.getAllDocBoxesService)(userData);\n                res.status(200).json({\n                    data: docBoxes,\n                    success: true\n                });\n                break;\n            case \"POST\":\n                // Handle POST requests (DocBox creation)\n                const createdDocBox = await (0,_services_docbox__WEBPACK_IMPORTED_MODULE_0__.createDocBoxService)(req.body, userData);\n                res.status(201).json({\n                    data: createdDocBox,\n                    success: true\n                });\n                break;\n            case \"PUT\":\n                // Handle PUT requests (DocBox update)\n                if (!id) {\n                    return res.status(400).json({\n                        error: \"DocBox ID is required for update\"\n                    });\n                }\n                const updatedDocBox = await (0,_services_docbox__WEBPACK_IMPORTED_MODULE_0__.updateDocBoxService)(id, req.body, userData);\n                res.status(200).json({\n                    data: updatedDocBox,\n                    success: true\n                });\n                break;\n            case \"DELETE\":\n                // Handle DELETE requests (DocBox deletion)\n                if (!id) {\n                    return res.status(400).json({\n                        error: \"DocBox ID is required for deletion\"\n                    });\n                }\n                await (0,_services_docbox__WEBPACK_IMPORTED_MODULE_0__.deleteDocBoxService)(id, userData);\n                res.status(204).json({\n                    success: true\n                });\n                break;\n            default:\n                // Handle other methods\n                res.setHeader(\"Allow\", [\n                    \"GET\",\n                    \"POST\",\n                    \"PUT\",\n                    \"DELETE\"\n                ]);\n                res.status(405).end(`Method ${method} Not Allowed`);\n        }\n    } catch (error) {\n        res.status(500).json({\n            error: error.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2NvbnRyb2xsZXJzL2RvY2JveC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBTzRCO0FBQ21CO0FBRS9DLHNCQUFzQjtBQUNnQztBQUV2QyxlQUFlTyxRQUM1QkMsR0FBbUIsRUFDbkJDLEdBQW9CO0lBRXBCLElBQUk7UUFDRixNQUFNSiwyREFBa0JBO1FBQ3hCLE1BQU1LLFdBQVdKLDZEQUFtQkEsQ0FBQ0U7UUFDckNHLFFBQVFDLEdBQUcsQ0FBQyw4QkFBOEJGLFVBQVVHLFFBQVFILFVBQVVJO1FBQ3RFLE1BQU0sRUFDSkMsT0FBTyxFQUFFQyxFQUFFLEVBQUUsRUFDYkMsTUFBTSxFQUNQLEdBQUdUO1FBRUosT0FBUVM7WUFDTixLQUFLO2dCQUNILHNCQUFzQjtnQkFDdEIsTUFBTUMsV0FBV0YsS0FDYixNQUFNZCxzRUFBb0JBLENBQUNjLElBQUlOLFlBQy9CLE1BQU1ULHVFQUFxQkEsQ0FBQ1M7Z0JBQ2hDRCxJQUFJVSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFFQyxNQUFNSDtvQkFBVUksU0FBUztnQkFBSztnQkFDckQ7WUFFRixLQUFLO2dCQUNILHlDQUF5QztnQkFDekMsTUFBTUMsZ0JBQWdCLE1BQU12QixxRUFBbUJBLENBQUNRLElBQUlnQixJQUFJLEVBQUVkO2dCQUMxREQsSUFBSVUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsTUFBTUU7b0JBQWVELFNBQVM7Z0JBQUs7Z0JBQzFEO1lBRUYsS0FBSztnQkFDSCxzQ0FBc0M7Z0JBQ3RDLElBQUksQ0FBQ04sSUFBSTtvQkFDUCxPQUFPUCxJQUNKVSxNQUFNLENBQUMsS0FDUEMsSUFBSSxDQUFDO3dCQUFFSyxPQUFPO29CQUFtQztnQkFDdEQ7Z0JBQ0EsTUFBTUMsZ0JBQWdCLE1BQU12QixxRUFBbUJBLENBQUNhLElBQUlSLElBQUlnQixJQUFJLEVBQUVkO2dCQUM5REQsSUFBSVUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsTUFBTUs7b0JBQWVKLFNBQVM7Z0JBQUs7Z0JBQzFEO1lBRUYsS0FBSztnQkFDSCwyQ0FBMkM7Z0JBQzNDLElBQUksQ0FBQ04sSUFBSTtvQkFDUCxPQUFPUCxJQUNKVSxNQUFNLENBQUMsS0FDUEMsSUFBSSxDQUFDO3dCQUFFSyxPQUFPO29CQUFxQztnQkFDeEQ7Z0JBQ0EsTUFBTXJCLHFFQUFtQkEsQ0FBQ1ksSUFBSU47Z0JBQzlCRCxJQUFJVSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFFRSxTQUFTO2dCQUFLO2dCQUNyQztZQUVGO2dCQUNFLHVCQUF1QjtnQkFDdkJiLElBQUlrQixTQUFTLENBQUMsU0FBUztvQkFBQztvQkFBTztvQkFBUTtvQkFBTztpQkFBUztnQkFDdkRsQixJQUFJVSxNQUFNLENBQUMsS0FBS1MsR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFWCxPQUFPLFlBQVksQ0FBQztRQUN0RDtJQUNGLEVBQUUsT0FBT1EsT0FBWTtRQUNuQmhCLElBQUlVLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUssT0FBT0EsTUFBTUksT0FBTztRQUFDO0lBQzlDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGUvLi9zcmMvcGFnZXMvYXBpL2NvbnRyb2xsZXJzL2RvY2JveC50cz80ZGQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZURvY0JveFNlcnZpY2UsXHJcbiAgZ2V0QWxsRG9jQm94ZXNTZXJ2aWNlLFxyXG4gIGdldERvY0JveEJ5SWRTZXJ2aWNlLFxyXG4gIHVwZGF0ZURvY0JveFNlcnZpY2UsXHJcbiAgZGVsZXRlRG9jQm94U2VydmljZSxcclxufSBmcm9tIFwiLi4vc2VydmljZXMvZG9jYm94XCI7XHJcbmltcG9ydCB7IGluaXRpYWxpemVEYXRhYmFzZSB9IGZyb20gXCIuLi9tb2RlbHNcIjtcclxuXHJcbi8vZm9yIHVzZXIgcm9sZSBhbmQgaWRcclxuaW1wb3J0IGdldExvZ2dlZGluVXNlckRhdGEgZnJvbSBcIi4uL21pZGRsZXdhcmVzL2F1dGhcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXHJcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcclxuICByZXM6IE5leHRBcGlSZXNwb25zZVxyXG4pIHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgaW5pdGlhbGl6ZURhdGFiYXNlKCk7XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IGdldExvZ2dlZGluVXNlckRhdGEocmVxKTtcclxuICAgIGNvbnNvbGUubG9nKFwidXNlckRBVEEvLy8vLy8vLy8vLy8vLy8vLy9cIiwgdXNlckRhdGE/LnVzZXJJZCwgdXNlckRhdGE/LnJvbGUpO1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBxdWVyeTogeyBpZCB9LFxyXG4gICAgICBtZXRob2QsXHJcbiAgICB9ID0gcmVxO1xyXG5cclxuICAgIHN3aXRjaCAobWV0aG9kKSB7XHJcbiAgICAgIGNhc2UgXCJHRVRcIjpcclxuICAgICAgICAvLyBIYW5kbGUgR0VUIHJlcXVlc3RzXHJcbiAgICAgICAgY29uc3QgZG9jQm94ZXMgPSBpZFxyXG4gICAgICAgICAgPyBhd2FpdCBnZXREb2NCb3hCeUlkU2VydmljZShpZCwgdXNlckRhdGEpXHJcbiAgICAgICAgICA6IGF3YWl0IGdldEFsbERvY0JveGVzU2VydmljZSh1c2VyRGF0YSk7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBkYXRhOiBkb2NCb3hlcywgc3VjY2VzczogdHJ1ZSB9KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgXCJQT1NUXCI6XHJcbiAgICAgICAgLy8gSGFuZGxlIFBPU1QgcmVxdWVzdHMgKERvY0JveCBjcmVhdGlvbilcclxuICAgICAgICBjb25zdCBjcmVhdGVkRG9jQm94ID0gYXdhaXQgY3JlYXRlRG9jQm94U2VydmljZShyZXEuYm9keSwgdXNlckRhdGEpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgZGF0YTogY3JlYXRlZERvY0JveCwgc3VjY2VzczogdHJ1ZSB9KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgXCJQVVRcIjpcclxuICAgICAgICAvLyBIYW5kbGUgUFVUIHJlcXVlc3RzIChEb2NCb3ggdXBkYXRlKVxyXG4gICAgICAgIGlmICghaWQpIHtcclxuICAgICAgICAgIHJldHVybiByZXNcclxuICAgICAgICAgICAgLnN0YXR1cyg0MDApXHJcbiAgICAgICAgICAgIC5qc29uKHsgZXJyb3I6IFwiRG9jQm94IElEIGlzIHJlcXVpcmVkIGZvciB1cGRhdGVcIiB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZERvY0JveCA9IGF3YWl0IHVwZGF0ZURvY0JveFNlcnZpY2UoaWQsIHJlcS5ib2R5LCB1c2VyRGF0YSk7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBkYXRhOiB1cGRhdGVkRG9jQm94LCBzdWNjZXNzOiB0cnVlIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSBcIkRFTEVURVwiOlxyXG4gICAgICAgIC8vIEhhbmRsZSBERUxFVEUgcmVxdWVzdHMgKERvY0JveCBkZWxldGlvbilcclxuICAgICAgICBpZiAoIWlkKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzXHJcbiAgICAgICAgICAgIC5zdGF0dXMoNDAwKVxyXG4gICAgICAgICAgICAuanNvbih7IGVycm9yOiBcIkRvY0JveCBJRCBpcyByZXF1aXJlZCBmb3IgZGVsZXRpb25cIiB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXdhaXQgZGVsZXRlRG9jQm94U2VydmljZShpZCwgdXNlckRhdGEpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjA0KS5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgLy8gSGFuZGxlIG90aGVyIG1ldGhvZHNcclxuICAgICAgICByZXMuc2V0SGVhZGVyKFwiQWxsb3dcIiwgW1wiR0VUXCIsIFwiUE9TVFwiLCBcIlBVVFwiLCBcIkRFTEVURVwiXSk7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDUpLmVuZChgTWV0aG9kICR7bWV0aG9kfSBOb3QgQWxsb3dlZGApO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVEb2NCb3hTZXJ2aWNlIiwiZ2V0QWxsRG9jQm94ZXNTZXJ2aWNlIiwiZ2V0RG9jQm94QnlJZFNlcnZpY2UiLCJ1cGRhdGVEb2NCb3hTZXJ2aWNlIiwiZGVsZXRlRG9jQm94U2VydmljZSIsImluaXRpYWxpemVEYXRhYmFzZSIsImdldExvZ2dlZGluVXNlckRhdGEiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwidXNlckRhdGEiLCJjb25zb2xlIiwibG9nIiwidXNlcklkIiwicm9sZSIsInF1ZXJ5IiwiaWQiLCJtZXRob2QiLCJkb2NCb3hlcyIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwic3VjY2VzcyIsImNyZWF0ZWREb2NCb3giLCJib2R5IiwiZXJyb3IiLCJ1cGRhdGVkRG9jQm94Iiwic2V0SGVhZGVyIiwiZW5kIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/controllers/docbox.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/middlewares/auth.ts":
/*!*******************************************!*\
  !*** ./src/pages/api/middlewares/auth.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @clerk/nextjs/server */ \"@clerk/nextjs/server\");\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_0__);\n\nconst getLoggedinUserData = (req)=>{\n    const { sessionClaims, userId } = (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_0__.getAuth)(req);\n    return {\n        role: sessionClaims?.metadata?.role,\n        userId\n    };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getLoggedinUserData);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL21pZGRsZXdhcmVzL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStDO0FBRy9DLE1BQU1DLHNCQUFzQixDQUFDQztJQUMzQixNQUFNLEVBQUVDLGFBQWEsRUFBRUMsTUFBTSxFQUFFLEdBQUdKLDZEQUFPQSxDQUFDRTtJQUMxQyxPQUFPO1FBQUVHLE1BQU1GLGVBQWVHLFVBQVVEO1FBQU1EO0lBQU87QUFDdkQ7QUFFQSxpRUFBZUgsbUJBQW1CQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtcGxlLy4vc3JjL3BhZ2VzL2FwaS9taWRkbGV3YXJlcy9hdXRoLnRzPzcwMTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0QXV0aCB9IGZyb20gXCJAY2xlcmsvbmV4dGpzL3NlcnZlclwiO1xyXG5pbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcclxuXHJcbmNvbnN0IGdldExvZ2dlZGluVXNlckRhdGEgPSAocmVxOiBOZXh0QXBpUmVxdWVzdCkgPT4ge1xyXG4gIGNvbnN0IHsgc2Vzc2lvbkNsYWltcywgdXNlcklkIH0gPSBnZXRBdXRoKHJlcSk7XHJcbiAgcmV0dXJuIHsgcm9sZTogc2Vzc2lvbkNsYWltcz8ubWV0YWRhdGE/LnJvbGUsIHVzZXJJZCB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZ2V0TG9nZ2VkaW5Vc2VyRGF0YTtcclxuIl0sIm5hbWVzIjpbImdldEF1dGgiLCJnZXRMb2dnZWRpblVzZXJEYXRhIiwicmVxIiwic2Vzc2lvbkNsYWltcyIsInVzZXJJZCIsInJvbGUiLCJtZXRhZGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/middlewares/auth.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/models/associations.ts":
/*!**********************************************!*\
  !*** ./src/pages/api/models/associations.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst applyAssociations = (sequelize)=>{\n    const { Files, DocBox, UsersDocBoxes } = sequelize.models;\n    Files.belongsTo(DocBox, {\n        foreignKey: \"doc_box\",\n        as: \"files\"\n    });\n    DocBox.hasMany(Files, {\n        foreignKey: \"doc_box\",\n        as: \"files\"\n    });\n    DocBox.hasMany(UsersDocBoxes, {\n        foreignKey: \"docbox_id\",\n        as: \"userDocBoxes\"\n    });\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (applyAssociations);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL21vZGVscy9hc3NvY2lhdGlvbnMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLG9CQUFvQixDQUFDQztJQUN6QixNQUFNLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFQyxhQUFhLEVBQUUsR0FBR0gsVUFBVUksTUFBTTtJQUV6REgsTUFBTUksU0FBUyxDQUFDSCxRQUFRO1FBQUVJLFlBQVk7UUFBV0MsSUFBSTtJQUFRO0lBQzdETCxPQUFPTSxPQUFPLENBQUNQLE9BQU87UUFBRUssWUFBWTtRQUFXQyxJQUFJO0lBQVE7SUFDM0RMLE9BQU9NLE9BQU8sQ0FBQ0wsZUFBZTtRQUM1QkcsWUFBWTtRQUNaQyxJQUFJO0lBQ047QUFDRjtBQUVBLGlFQUFlUixpQkFBaUJBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGUvLi9zcmMvcGFnZXMvYXBpL21vZGVscy9hc3NvY2lhdGlvbnMudHM/NmE5MyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhcHBseUFzc29jaWF0aW9ucyA9IChzZXF1ZWxpemU6IGFueSkgPT4ge1xyXG4gIGNvbnN0IHsgRmlsZXMsIERvY0JveCwgVXNlcnNEb2NCb3hlcyB9ID0gc2VxdWVsaXplLm1vZGVscztcclxuXHJcbiAgRmlsZXMuYmVsb25nc1RvKERvY0JveCwgeyBmb3JlaWduS2V5OiBcImRvY19ib3hcIiwgYXM6IFwiZmlsZXNcIiB9KTtcclxuICBEb2NCb3guaGFzTWFueShGaWxlcywgeyBmb3JlaWduS2V5OiBcImRvY19ib3hcIiwgYXM6IFwiZmlsZXNcIiB9KTtcclxuICBEb2NCb3guaGFzTWFueShVc2Vyc0RvY0JveGVzLCB7XHJcbiAgICBmb3JlaWduS2V5OiBcImRvY2JveF9pZFwiLFxyXG4gICAgYXM6IFwidXNlckRvY0JveGVzXCIsXHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhcHBseUFzc29jaWF0aW9ucztcclxuIl0sIm5hbWVzIjpbImFwcGx5QXNzb2NpYXRpb25zIiwic2VxdWVsaXplIiwiRmlsZXMiLCJEb2NCb3giLCJVc2Vyc0RvY0JveGVzIiwibW9kZWxzIiwiYmVsb25nc1RvIiwiZm9yZWlnbktleSIsImFzIiwiaGFzTWFueSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/models/associations.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/models/docbox.ts":
/*!****************************************!*\
  !*** ./src/pages/api/models/docbox.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DocBox)\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @swc/helpers/_/_ts_decorate */ \"(api)/./node_modules/@swc/helpers/cjs/_ts_decorate.cjs\");\n/* harmony import */ var _swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swc/helpers/_/_ts_metadata */ \"(api)/./node_modules/@swc/helpers/cjs/_ts_metadata.cjs\");\n/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sequelize-typescript */ \"sequelize-typescript\");\n/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nclass DocBox extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Model {\n}\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.PrimaryKey,\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], DocBox.prototype, \"id\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], DocBox.prototype, \"name\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], DocBox.prototype, \"description\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.CreatedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], DocBox.prototype, \"created_at\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.UpdatedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], DocBox.prototype, \"updated_at\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.DeletedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], DocBox.prototype, \"deleted_at\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], DocBox.prototype, \"created_by\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], DocBox.prototype, \"updated_by\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], DocBox.prototype, \"deleted_by\", void 0);\nDocBox = (0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    (0,sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Table)({\n        timestamps: true,\n        paranoid: true\n    })\n], DocBox);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL21vZGVscy9kb2Nib3gudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQVM4QjtBQXNCZixNQUFNTyxlQUFlTix1REFBS0E7QUErQnpDOztJQTNCR0UsNERBQVVBO0lBQ1ZELHdEQUFNQTs7R0FMWUs7O0lBUWxCTCx3REFBTUE7O0dBUllLOztJQVdsQkwsd0RBQU1BOztHQVhZSzs7SUFjbEJILDJEQUFTQTtzRkFDRztHQWZNRzs7SUFpQmxCRiwyREFBU0E7c0ZBQ0c7R0FsQk1FOztJQW9CbEJELDJEQUFTQTtzRkFDRztHQXJCTUM7O0lBdUJsQkwsd0RBQU1BOztHQXZCWUs7O0lBMEJsQkwsd0RBQU1BOztHQTFCWUs7O0lBNkJsQkwsd0RBQU1BOztHQTdCWUs7QUFBQUEsU0FBQUEsMkRBQUFBO0lBSnBCUCwyREFBS0EsQ0FBQztRQUNMUSxZQUFZO1FBQ1pDLFVBQVU7SUFDWjtHQUNxQkYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGUvLi9zcmMvcGFnZXMvYXBpL21vZGVscy9kb2Nib3gudHM/NDk0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIFRhYmxlLFxyXG4gIE1vZGVsLFxyXG4gIENvbHVtbixcclxuICBQcmltYXJ5S2V5LFxyXG4gIENyZWF0ZWRBdCxcclxuICBVcGRhdGVkQXQsXHJcbiAgRGVsZXRlZEF0LFxyXG4gIEhhc01hbnksXHJcbn0gZnJvbSBcInNlcXVlbGl6ZS10eXBlc2NyaXB0XCI7XHJcbmltcG9ydCB7IE9wdGlvbmFsIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xyXG5cclxuaW50ZXJmYWNlIERvY0JveEF0dHJpYnV0ZXMge1xyXG4gIGlkOiBzdHJpbmc7IC8vIEFscGhhbnVtZXJpYyBJRFxyXG4gIG5hbWU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbj86IHN0cmluZztcclxuICBjcmVhdGVkX2F0PzogRGF0ZTtcclxuICBjcmVhdGVkX2J5Pzogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ/OiBEYXRlO1xyXG4gIHVwZGF0ZWRfYnk/OiBzdHJpbmc7XHJcbiAgZGVsZXRlZF9hdD86IERhdGU7XHJcbiAgZGVsZXRlZF9ieT86IHN0cmluZztcclxuICBmaWxlcz86IEpTT05bXTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERvY0JveENyZWF0aW9uQXR0cmlidXRlcyBleHRlbmRzIE9wdGlvbmFsPERvY0JveEF0dHJpYnV0ZXMsIFwiaWRcIj4ge31cclxuXHJcbkBUYWJsZSh7XHJcbiAgdGltZXN0YW1wczogdHJ1ZSxcclxuICBwYXJhbm9pZDogdHJ1ZSxcclxufSlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG9jQm94IGV4dGVuZHMgTW9kZWw8XHJcbiAgRG9jQm94QXR0cmlidXRlcyxcclxuICBEb2NCb3hDcmVhdGlvbkF0dHJpYnV0ZXNcclxuPiB7XHJcbiAgQFByaW1hcnlLZXlcclxuICBAQ29sdW1uXHJcbiAgaWQhOiBzdHJpbmc7XHJcblxyXG4gIEBDb2x1bW5cclxuICBuYW1lITogc3RyaW5nO1xyXG5cclxuICBAQ29sdW1uXHJcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XHJcblxyXG4gIEBDcmVhdGVkQXRcclxuICBjcmVhdGVkX2F0ITogRGF0ZTtcclxuXHJcbiAgQFVwZGF0ZWRBdFxyXG4gIHVwZGF0ZWRfYXQhOiBEYXRlO1xyXG5cclxuICBARGVsZXRlZEF0XHJcbiAgZGVsZXRlZF9hdD86IERhdGU7XHJcblxyXG4gIEBDb2x1bW5cclxuICBjcmVhdGVkX2J5Pzogc3RyaW5nO1xyXG5cclxuICBAQ29sdW1uXHJcbiAgdXBkYXRlZF9ieT86IHN0cmluZztcclxuXHJcbiAgQENvbHVtblxyXG4gIGRlbGV0ZWRfYnk/OiBzdHJpbmc7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlRhYmxlIiwiTW9kZWwiLCJDb2x1bW4iLCJQcmltYXJ5S2V5IiwiQ3JlYXRlZEF0IiwiVXBkYXRlZEF0IiwiRGVsZXRlZEF0IiwiRG9jQm94IiwidGltZXN0YW1wcyIsInBhcmFub2lkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/models/docbox.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/models/file.ts":
/*!**************************************!*\
  !*** ./src/pages/api/models/file.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Files)\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @swc/helpers/_/_ts_decorate */ \"(api)/./node_modules/@swc/helpers/cjs/_ts_decorate.cjs\");\n/* harmony import */ var _swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swc/helpers/_/_ts_metadata */ \"(api)/./node_modules/@swc/helpers/cjs/_ts_metadata.cjs\");\n/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sequelize-typescript */ \"sequelize-typescript\");\n/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nclass Files extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Model {\n}\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.PrimaryKey,\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.AutoIncrement,\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", Number)\n], Files.prototype, \"id\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], Files.prototype, \"name\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    (0,sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column)(sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.DataType.TEXT),\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], Files.prototype, \"description\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], Files.prototype, \"file_url\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], Files.prototype, \"doc_box\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], Files.prototype, \"fencing_start_date\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], Files.prototype, \"fencing_end_date\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.CreatedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], Files.prototype, \"created_at\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.UpdatedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], Files.prototype, \"updated_at\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.DeletedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], Files.prototype, \"deleted_at\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], Files.prototype, \"created_by\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], Files.prototype, \"updated_by\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], Files.prototype, \"deleted_by\", void 0);\nFiles = (0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    (0,sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Table)({\n        timestamps: true,\n        paranoid: true\n    })\n], Files);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL21vZGVscy9maWxlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFZOEI7QUF5QmYsTUFBTVMsY0FBY1IsdURBQUtBO0FBNEN4Qzs7SUF4Q0dFLDREQUFVQTtJQUNWQywrREFBYUE7SUFDYkYsd0RBQU1BOztHQU5ZTzs7SUFTbEJQLHdEQUFNQTs7R0FUWU87O0lBWWxCUCw0REFBTUEsQ0FBQ00sMERBQVFBLENBQUNFLElBQUk7O0dBWkZEOztJQWVsQlAsd0RBQU1BOztHQWZZTzs7SUFrQmxCUCx3REFBTUE7O0dBbEJZTzs7SUFxQmxCUCx3REFBTUE7c0ZBQ2M7R0F0QkZPOztJQXdCbEJQLHdEQUFNQTtzRkFDWTtHQXpCQU87O0lBMkJsQkosMkRBQVNBO3NGQUNHO0dBNUJNSTs7SUE4QmxCSCwyREFBU0E7c0ZBQ0c7R0EvQk1HOztJQWlDbEJGLDJEQUFTQTtzRkFDRztHQWxDTUU7O0lBb0NsQlAsd0RBQU1BOztHQXBDWU87O0lBdUNsQlAsd0RBQU1BOztHQXZDWU87O0lBMENsQlAsd0RBQU1BOztHQTFDWU87QUFBQUEsUUFBQUEsMkRBQUFBO0lBSnBCVCwyREFBS0EsQ0FBQztRQUNMVyxZQUFZO1FBQ1pDLFVBQVU7SUFDWjtHQUNxQkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGUvLi9zcmMvcGFnZXMvYXBpL21vZGVscy9maWxlLnRzP2Q1OGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBUYWJsZSxcclxuICBNb2RlbCxcclxuICBDb2x1bW4sXHJcbiAgUHJpbWFyeUtleSxcclxuICBGb3JlaWduS2V5LFxyXG4gIEF1dG9JbmNyZW1lbnQsXHJcbiAgQ3JlYXRlZEF0LFxyXG4gIFVwZGF0ZWRBdCxcclxuICBEZWxldGVkQXQsXHJcbiAgRGF0YVR5cGUsXHJcbiAgQmVsb25nc1RvLFxyXG59IGZyb20gXCJzZXF1ZWxpemUtdHlwZXNjcmlwdFwiO1xyXG5pbXBvcnQgeyBPcHRpb25hbCB9IGZyb20gXCJzZXF1ZWxpemVcIjtcclxuXHJcbmludGVyZmFjZSBGaWxlc0F0dHJpYnV0ZXMge1xyXG4gIGlkOiBudW1iZXI7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgZmlsZV91cmw6IHN0cmluZztcclxuICBkb2NfYm94OiBudW1iZXI7XHJcbiAgZmVuY2luZ19lbmRfZGF0ZTogRGF0ZTtcclxuICBmZW5jaW5nX3N0YXJ0X2RhdGU6IERhdGU7XHJcbiAgY3JlYXRlZF9hdD86IERhdGU7XHJcbiAgY3JlYXRlZF9ieT86IHN0cmluZztcclxuICB1cGRhdGVkX2F0PzogRGF0ZTtcclxuICB1cGRhdGVkX2J5Pzogc3RyaW5nO1xyXG4gIGRlbGV0ZWRfYXQ/OiBEYXRlO1xyXG4gIGRlbGV0ZWRfYnk/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBGaWxlc0NyZWF0aW9uQXR0cmlidXRlcyBleHRlbmRzIE9wdGlvbmFsPEZpbGVzQXR0cmlidXRlcywgXCJpZFwiPiB7fVxyXG5cclxuQFRhYmxlKHtcclxuICB0aW1lc3RhbXBzOiB0cnVlLCAvLyBFbmFibGUgdGltZXN0YW1wc1xyXG4gIHBhcmFub2lkOiB0cnVlLCAvLyBFbmFibGUgc29mdCBkZWxldGlvbiAoYWRkcyBkZWxldGVkQXQpXHJcbn0pXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbGVzIGV4dGVuZHMgTW9kZWw8XHJcbiAgRmlsZXNBdHRyaWJ1dGVzLFxyXG4gIEZpbGVzQ3JlYXRpb25BdHRyaWJ1dGVzXHJcbj4ge1xyXG4gIEBQcmltYXJ5S2V5XHJcbiAgQEF1dG9JbmNyZW1lbnRcclxuICBAQ29sdW1uXHJcbiAgaWQhOiBudW1iZXI7XHJcblxyXG4gIEBDb2x1bW5cclxuICBuYW1lITogc3RyaW5nO1xyXG5cclxuICBAQ29sdW1uKERhdGFUeXBlLlRFWFQpXHJcbiAgZGVzY3JpcHRpb24hOiBzdHJpbmc7XHJcblxyXG4gIEBDb2x1bW5cclxuICBmaWxlX3VybCE6IHN0cmluZztcclxuXHJcbiAgQENvbHVtblxyXG4gIGRvY19ib3ghOiBzdHJpbmc7XHJcblxyXG4gIEBDb2x1bW5cclxuICBmZW5jaW5nX3N0YXJ0X2RhdGUhOiBEYXRlO1xyXG5cclxuICBAQ29sdW1uXHJcbiAgZmVuY2luZ19lbmRfZGF0ZSE6IERhdGU7XHJcblxyXG4gIEBDcmVhdGVkQXRcclxuICBjcmVhdGVkX2F0ITogRGF0ZTtcclxuXHJcbiAgQFVwZGF0ZWRBdFxyXG4gIHVwZGF0ZWRfYXQhOiBEYXRlO1xyXG5cclxuICBARGVsZXRlZEF0XHJcbiAgZGVsZXRlZF9hdD86IERhdGU7XHJcblxyXG4gIEBDb2x1bW5cclxuICBjcmVhdGVkX2J5Pzogc3RyaW5nO1xyXG5cclxuICBAQ29sdW1uXHJcbiAgdXBkYXRlZF9ieT86IHN0cmluZztcclxuXHJcbiAgQENvbHVtblxyXG4gIGRlbGV0ZWRfYnk/OiBzdHJpbmc7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlRhYmxlIiwiTW9kZWwiLCJDb2x1bW4iLCJQcmltYXJ5S2V5IiwiQXV0b0luY3JlbWVudCIsIkNyZWF0ZWRBdCIsIlVwZGF0ZWRBdCIsIkRlbGV0ZWRBdCIsIkRhdGFUeXBlIiwiRmlsZXMiLCJURVhUIiwidGltZXN0YW1wcyIsInBhcmFub2lkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/models/file.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/models/index.ts":
/*!***************************************!*\
  !*** ./src/pages/api/models/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DocBox: () => (/* reexport safe */ _docbox__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   Files: () => (/* reexport safe */ _file__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   UsersDocBoxes: () => (/* reexport safe */ _uses_docboxes__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   initializeDatabase: () => (/* binding */ initializeDatabase),\n/* harmony export */   sequelize: () => (/* binding */ sequelize)\n/* harmony export */ });\n/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sequelize-typescript */ \"sequelize-typescript\");\n/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _file__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./file */ \"(api)/./src/pages/api/models/file.ts\");\n/* harmony import */ var _docbox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./docbox */ \"(api)/./src/pages/api/models/docbox.ts\");\n/* harmony import */ var _uses_docboxes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./uses_docboxes */ \"(api)/./src/pages/api/models/uses_docboxes.ts\");\n/* harmony import */ var _associations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./associations */ \"(api)/./src/pages/api/models/associations.ts\");\nconst dbConfig = __webpack_require__(/*! ../config/db */ \"(api)/./src/pages/api/config/db.ts\");\n\n\n\n\n\nconst sequelize = new sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Sequelize({\n    database: dbConfig.database,\n    dialect: dbConfig.dialect,\n    username: dbConfig.username,\n    password: dbConfig.password,\n    host: dbConfig.host\n});\nsequelize.addModels([\n    _docbox__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    _file__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    _uses_docboxes__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n]);\n(0,_associations__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(sequelize);\nconst initializeDatabase = async ()=>{\n    try {\n        await sequelize.authenticate();\n        console.log(\"Connection has been established successfully.\");\n        await sequelize.sync({\n            force: false\n        });\n        console.log(\"Database synchronized\");\n    } catch (error) {\n        console.error(\"Unable to connect to the database or synchronize:\", error);\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sequelize);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL21vZGVscy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxNQUFNQSxXQUFXQyxtQkFBT0EsQ0FBQyx3REFBYztBQUNVO0FBQ3RCO0FBQ0c7QUFDYztBQUNHO0FBRS9DLE1BQU1NLFlBQVksSUFBSUwsMkRBQVNBLENBQUM7SUFDOUJNLFVBQVVSLFNBQVNRLFFBQVE7SUFDM0JDLFNBQVNULFNBQVNTLE9BQU87SUFDekJDLFVBQVVWLFNBQVNVLFFBQVE7SUFDM0JDLFVBQVVYLFNBQVNXLFFBQVE7SUFDM0JDLE1BQU1aLFNBQVNZLElBQUk7QUFFckI7QUFFQUwsVUFBVU0sU0FBUyxDQUFDO0lBQUNULCtDQUFNQTtJQUFFRCw2Q0FBS0E7SUFBRUUsc0RBQWFBO0NBQUM7QUFFbERDLHlEQUFpQkEsQ0FBQ0M7QUFDbEIsTUFBTU8scUJBQXFCO0lBQ3pCLElBQUk7UUFDRixNQUFNUCxVQUFVUSxZQUFZO1FBQzVCQyxRQUFRQyxHQUFHLENBQUM7UUFDWixNQUFNVixVQUFVVyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFNO1FBQ3BDSCxRQUFRQyxHQUFHLENBQUM7SUFDZCxFQUFFLE9BQU9HLE9BQU87UUFDZEosUUFBUUksS0FBSyxDQUFDLHFEQUFxREE7SUFDckU7QUFDRjtBQUVBLGlFQUFlYixTQUFTQSxFQUFDO0FBRThDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtcGxlLy4vc3JjL3BhZ2VzL2FwaS9tb2RlbHMvaW5kZXgudHM/MzBmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkYkNvbmZpZyA9IHJlcXVpcmUoXCIuLi9jb25maWcvZGJcIik7XHJcbmltcG9ydCB7IFNlcXVlbGl6ZSB9IGZyb20gXCJzZXF1ZWxpemUtdHlwZXNjcmlwdFwiO1xyXG5pbXBvcnQgRmlsZXMgZnJvbSBcIi4vZmlsZVwiO1xyXG5pbXBvcnQgRG9jQm94IGZyb20gXCIuL2RvY2JveFwiO1xyXG5pbXBvcnQgVXNlcnNEb2NCb3hlcyBmcm9tIFwiLi91c2VzX2RvY2JveGVzXCI7XHJcbmltcG9ydCBhcHBseUFzc29jaWF0aW9ucyBmcm9tIFwiLi9hc3NvY2lhdGlvbnNcIjtcclxuXHJcbmNvbnN0IHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoe1xyXG4gIGRhdGFiYXNlOiBkYkNvbmZpZy5kYXRhYmFzZSxcclxuICBkaWFsZWN0OiBkYkNvbmZpZy5kaWFsZWN0LFxyXG4gIHVzZXJuYW1lOiBkYkNvbmZpZy51c2VybmFtZSxcclxuICBwYXNzd29yZDogZGJDb25maWcucGFzc3dvcmQsXHJcbiAgaG9zdDogZGJDb25maWcuaG9zdCxcclxuICAvLyBsb2dnaW5nOiBjb25zb2xlLmxvZyxcclxufSk7XHJcblxyXG5zZXF1ZWxpemUuYWRkTW9kZWxzKFtEb2NCb3gsIEZpbGVzLCBVc2Vyc0RvY0JveGVzXSk7XHJcblxyXG5hcHBseUFzc29jaWF0aW9ucyhzZXF1ZWxpemUpO1xyXG5jb25zdCBpbml0aWFsaXplRGF0YWJhc2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHNlcXVlbGl6ZS5hdXRoZW50aWNhdGUoKTtcclxuICAgIGNvbnNvbGUubG9nKFwiQ29ubmVjdGlvbiBoYXMgYmVlbiBlc3RhYmxpc2hlZCBzdWNjZXNzZnVsbHkuXCIpO1xyXG4gICAgYXdhaXQgc2VxdWVsaXplLnN5bmMoeyBmb3JjZTogZmFsc2UgfSk7XHJcbiAgICBjb25zb2xlLmxvZyhcIkRhdGFiYXNlIHN5bmNocm9uaXplZFwiKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBjb25uZWN0IHRvIHRoZSBkYXRhYmFzZSBvciBzeW5jaHJvbml6ZTpcIiwgZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNlcXVlbGl6ZTtcclxuXHJcbmV4cG9ydCB7IHNlcXVlbGl6ZSwgaW5pdGlhbGl6ZURhdGFiYXNlLCBEb2NCb3gsIEZpbGVzLCBVc2Vyc0RvY0JveGVzIH07XHJcbiJdLCJuYW1lcyI6WyJkYkNvbmZpZyIsInJlcXVpcmUiLCJTZXF1ZWxpemUiLCJGaWxlcyIsIkRvY0JveCIsIlVzZXJzRG9jQm94ZXMiLCJhcHBseUFzc29jaWF0aW9ucyIsInNlcXVlbGl6ZSIsImRhdGFiYXNlIiwiZGlhbGVjdCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJob3N0IiwiYWRkTW9kZWxzIiwiaW5pdGlhbGl6ZURhdGFiYXNlIiwiYXV0aGVudGljYXRlIiwiY29uc29sZSIsImxvZyIsInN5bmMiLCJmb3JjZSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/models/index.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/models/uses_docboxes.ts":
/*!***********************************************!*\
  !*** ./src/pages/api/models/uses_docboxes.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ UsersDocBoxes)\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @swc/helpers/_/_ts_decorate */ \"(api)/./node_modules/@swc/helpers/cjs/_ts_decorate.cjs\");\n/* harmony import */ var _swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swc/helpers/_/_ts_metadata */ \"(api)/./node_modules/@swc/helpers/cjs/_ts_metadata.cjs\");\n/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sequelize-typescript */ \"sequelize-typescript\");\n/* harmony import */ var sequelize_typescript__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nclass UsersDocBoxes extends sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Model {\n}\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.PrimaryKey,\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.AutoIncrement,\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", Number)\n], UsersDocBoxes.prototype, \"id\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], UsersDocBoxes.prototype, \"user_id\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Column,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", String)\n], UsersDocBoxes.prototype, \"docbox_id\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.CreatedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], UsersDocBoxes.prototype, \"created_at\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.UpdatedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], UsersDocBoxes.prototype, \"updated_at\", void 0);\n(0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.DeletedAt,\n    (0,_swc_helpers_ts_metadata__WEBPACK_IMPORTED_MODULE_2__._)(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], UsersDocBoxes.prototype, \"deleted_at\", void 0);\nUsersDocBoxes = (0,_swc_helpers_ts_decorate__WEBPACK_IMPORTED_MODULE_1__._)([\n    (0,sequelize_typescript__WEBPACK_IMPORTED_MODULE_0__.Table)({\n        timestamps: true,\n        paranoid: true\n    })\n], UsersDocBoxes);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL21vZGVscy91c2VzX2RvY2JveGVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFVOEI7QUFtQmYsTUFBTVEsc0JBQXNCUCx1REFBS0E7QUF1QmhEOztJQW5CR0UsNERBQVVBO0lBQ1ZJLCtEQUFhQTtJQUNiTCx3REFBTUE7O0dBTllNOztJQVNsQk4sd0RBQU1BOztHQVRZTTs7SUFZbEJOLHdEQUFNQTs7R0FaWU07O0lBZWxCSiwyREFBU0E7c0ZBQ0c7R0FoQk1JOztJQWtCbEJILDJEQUFTQTtzRkFDRztHQW5CTUc7O0lBcUJsQkYsMkRBQVNBO3NGQUNHO0dBdEJNRTtBQUFBQSxnQkFBQUEsMkRBQUFBO0lBSnBCUiwyREFBS0EsQ0FBQztRQUNMUyxZQUFZO1FBQ1pDLFVBQVU7SUFDWjtHQUNxQkYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGUvLi9zcmMvcGFnZXMvYXBpL21vZGVscy91c2VzX2RvY2JveGVzLnRzPzQ5NGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBUYWJsZSxcclxuICBNb2RlbCxcclxuICBDb2x1bW4sXHJcbiAgUHJpbWFyeUtleSxcclxuICBDcmVhdGVkQXQsXHJcbiAgVXBkYXRlZEF0LFxyXG4gIERlbGV0ZWRBdCxcclxuICBIYXNNYW55LFxyXG4gIEF1dG9JbmNyZW1lbnQsXHJcbn0gZnJvbSBcInNlcXVlbGl6ZS10eXBlc2NyaXB0XCI7XHJcbmltcG9ydCB7IE9wdGlvbmFsIH0gZnJvbSBcInNlcXVlbGl6ZVwiO1xyXG5cclxuaW50ZXJmYWNlIFVzZXJEb2NCb3hBdHRyaWJ1dGVzIHtcclxuICBpZDogbnVtYmVyO1xyXG4gIHVzZXJfaWQ6IHN0cmluZztcclxuICBkb2Nib3hfaWQ/OiBzdHJpbmc7XHJcbiAgY3JlYXRlZF9hdD86IERhdGU7XHJcbiAgdXBkYXRlZF9hdD86IERhdGU7XHJcbiAgZGVsZXRlZF9hdD86IERhdGU7XHJcbn1cclxuXHJcbmludGVyZmFjZSBVc2VyRG9jQm94Q3JlYXRpb25BdHRyaWJ1dGVzXHJcbiAgZXh0ZW5kcyBPcHRpb25hbDxVc2VyRG9jQm94QXR0cmlidXRlcywgXCJpZFwiPiB7fVxyXG5cclxuQFRhYmxlKHtcclxuICB0aW1lc3RhbXBzOiB0cnVlLFxyXG4gIHBhcmFub2lkOiB0cnVlLFxyXG59KVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2Vyc0RvY0JveGVzIGV4dGVuZHMgTW9kZWw8XHJcbiAgVXNlckRvY0JveEF0dHJpYnV0ZXMsXHJcbiAgVXNlckRvY0JveENyZWF0aW9uQXR0cmlidXRlc1xyXG4+IHtcclxuICBAUHJpbWFyeUtleVxyXG4gIEBBdXRvSW5jcmVtZW50XHJcbiAgQENvbHVtblxyXG4gIGlkITogbnVtYmVyO1xyXG5cclxuICBAQ29sdW1uXHJcbiAgdXNlcl9pZCE6IHN0cmluZztcclxuXHJcbiAgQENvbHVtblxyXG4gIGRvY2JveF9pZCE6IHN0cmluZztcclxuXHJcbiAgQENyZWF0ZWRBdFxyXG4gIGNyZWF0ZWRfYXQhOiBEYXRlO1xyXG5cclxuICBAVXBkYXRlZEF0XHJcbiAgdXBkYXRlZF9hdCE6IERhdGU7XHJcblxyXG4gIEBEZWxldGVkQXRcclxuICBkZWxldGVkX2F0PzogRGF0ZTtcclxufVxyXG4iXSwibmFtZXMiOlsiVGFibGUiLCJNb2RlbCIsIkNvbHVtbiIsIlByaW1hcnlLZXkiLCJDcmVhdGVkQXQiLCJVcGRhdGVkQXQiLCJEZWxldGVkQXQiLCJBdXRvSW5jcmVtZW50IiwiVXNlcnNEb2NCb3hlcyIsInRpbWVzdGFtcHMiLCJwYXJhbm9pZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/models/uses_docboxes.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/services/docbox.ts":
/*!******************************************!*\
  !*** ./src/pages/api/services/docbox.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDocBoxService: () => (/* binding */ createDocBoxService),\n/* harmony export */   deleteDocBoxService: () => (/* binding */ deleteDocBoxService),\n/* harmony export */   getAllDocBoxesService: () => (/* binding */ getAllDocBoxesService),\n/* harmony export */   getDocBoxByIdService: () => (/* binding */ getDocBoxByIdService),\n/* harmony export */   updateDocBoxService: () => (/* binding */ updateDocBoxService)\n/* harmony export */ });\n/* harmony import */ var _models_docbox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/docbox */ \"(api)/./src/pages/api/models/docbox.ts\");\n/* harmony import */ var _models_file__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/file */ \"(api)/./src/pages/api/models/file.ts\");\n/* harmony import */ var _models_uses_docboxes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/uses_docboxes */ \"(api)/./src/pages/api/models/uses_docboxes.ts\");\n/* harmony import */ var _common_upload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/upload */ \"(api)/./src/pages/api/common/upload.ts\");\n/* harmony import */ var _usersdocboxes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./usersdocboxes */ \"(api)/./src/pages/api/services/usersdocboxes.ts\");\n\n\n\n\n\nconst createDocBoxService = async (docBoxData, userData)=>{\n    try {\n        const lastDocBox = await _models_docbox__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n            order: [\n                [\n                    \"created_at\",\n                    \"DESC\"\n                ]\n            ],\n            paranoid: false\n        });\n        console.log(\":::::::::::::::\", lastDocBox);\n        let newId = \"DocBox-10001\";\n        if (lastDocBox && lastDocBox.id) {\n            const lastIdNumber = parseInt(lastDocBox.id.split(\"-\")[1]);\n            newId = `DocBox-${lastIdNumber + 1}`;\n        }\n        console.log(\":::::::::::::::\", docBoxData, newId);\n        const newDocBox = await _models_docbox__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n            id: newId,\n            created_by: String(userData?.userId),\n            ...docBoxData\n        });\n        if (docBoxData.userIds && docBoxData.userIds?.length > 0) {\n            (0,_usersdocboxes__WEBPACK_IMPORTED_MODULE_4__.createOrUpdateUserDocBoxService)({\n                docBoxId: newId,\n                userIds: docBoxData.userIds\n            });\n        }\n        return newDocBox;\n    } catch (error) {\n        console.log(\"errorrr\", error);\n        throw error;\n    }\n};\nconst getAllDocBoxesService = async (userData)=>{\n    try {\n        let docBoxes;\n        if (userData.role !== \"admin\") {\n            const assignedDocBoxes = await _models_uses_docboxes__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findAll({\n                where: {\n                    user_id: userData.userId\n                },\n                attributes: [\n                    \"docbox_id\"\n                ]\n            });\n            const assignedDocBoxIds = assignedDocBoxes.map((adb)=>adb.docbox_id);\n            docBoxes = await _models_docbox__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findAll({\n                where: {\n                    id: assignedDocBoxIds,\n                    deleted_at: null\n                },\n                order: [\n                    [\n                        \"created_at\",\n                        \"DESC\"\n                    ]\n                ],\n                include: [\n                    {\n                        model: _models_file__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n                        as: \"files\"\n                    }\n                ]\n            });\n        } else {\n            docBoxes = await _models_docbox__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findAll({\n                where: {\n                    deleted_at: null\n                },\n                order: [\n                    [\n                        \"created_at\",\n                        \"DESC\"\n                    ]\n                ],\n                include: [\n                    {\n                        model: _models_file__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n                        as: \"files\"\n                    }\n                ]\n            });\n        }\n        const docBoxesWithFileUrls = await Promise.all(docBoxes.map(async (docBox)=>{\n            // Resolve all promises for the file URLs\n            const filesWithUrls = await Promise.all(docBox.files.map(async (file)=>{\n                const fileUrl = await (0,_common_upload__WEBPACK_IMPORTED_MODULE_3__.getFileUrlFromS3)(file.file_url);\n                return {\n                    ...file.toJSON(),\n                    file_url: fileUrl\n                };\n            }));\n            return {\n                ...docBox.toJSON(),\n                files: filesWithUrls\n            };\n        }));\n        return {\n            data: docBoxesWithFileUrls,\n            success: true\n        };\n    } catch (error) {\n        throw error;\n    }\n};\n// Get a single DocBox by ID\nconst getDocBoxByIdService = async (id, userData)=>{\n    try {\n        console.log(\"??????????\", id);\n        const docBox = await _models_docbox__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByPk(id, {\n            include: [\n                {\n                    model: _models_file__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n                    as: \"files\"\n                },\n                {\n                    model: _models_uses_docboxes__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n                    as: \"userDocBoxes\"\n                }\n            ]\n        });\n        if (!docBox) {\n            throw new Error(\"DocBox not found\");\n        }\n        // Resolve all promises for the file URLs\n        const filesWithUrls = await Promise.all(docBox.files.map(async (file)=>{\n            const fileUrl = await (0,_common_upload__WEBPACK_IMPORTED_MODULE_3__.getFileUrlFromS3)(file.file_url);\n            return {\n                ...file.toJSON(),\n                file_url: fileUrl\n            };\n        }));\n        const userIds = docBox.userDocBoxes.map((userDocBox)=>userDocBox.user_id);\n        return {\n            ...docBox.toJSON(),\n            files: filesWithUrls,\n            userIds: userIds\n        };\n    } catch (error) {\n        throw error;\n    }\n};\n// Update a DocBox\nconst updateDocBoxService = async (id, updateData, userData)=>{\n    try {\n        const docBox = await _models_docbox__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByPk(id);\n        if (!docBox) {\n            throw new Error(\"DocBox not found\");\n        }\n        await docBox.update({\n            updated_by: userData?.userId,\n            ...updateData\n        });\n        if (updateData.userIds && updateData.userIds?.length > 0) {\n            (0,_usersdocboxes__WEBPACK_IMPORTED_MODULE_4__.createOrUpdateUserDocBoxService)({\n                docBoxId: id,\n                userIds: updateData.userIds\n            });\n        }\n        return docBox;\n    } catch (error) {\n        throw error;\n    }\n};\n// Delete a DocBox\nconst deleteDocBoxService = async (id, userData)=>{\n    try {\n        const docBox = await _models_docbox__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByPk(id, {\n            include: [\n                {\n                    model: _models_file__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n                    as: \"files\"\n                }\n            ]\n        });\n        if (!docBox) {\n            throw new Error(\"DocBox not found\");\n        }\n        if (docBox.files && docBox.files.length > 0) {\n            await Promise.all(docBox.files.map((file)=>file.update({\n                    deleted_by: userData.userId\n                })));\n            await Promise.all(docBox.files.map((file)=>file.destroy()));\n        }\n        await docBox.update({\n            deleted_by: userData.userId\n        });\n        await docBox.destroy();\n        return {\n            message: \"DocBox and associated files deleted successfully\"\n        };\n    } catch (error) {\n        console.error(\"///////// Error deleting DocBox:\", error);\n        throw error;\n    }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL3NlcnZpY2VzL2RvY2JveC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXNDO0FBQ0g7QUFDaUI7QUFDQTtBQUNjO0FBR2xFLE1BQU1LLHNCQUFzQixPQUFPQyxZQUFpQkM7SUFDbEQsSUFBSTtRQUNGLE1BQU1DLGFBQWEsTUFBTVIsOERBQWMsQ0FBQztZQUN0Q1UsT0FBTztnQkFBQztvQkFBQztvQkFBYztpQkFBTzthQUFDO1lBQy9CQyxVQUFVO1FBQ1o7UUFDQUMsUUFBUUMsR0FBRyxDQUFDLG1CQUFtQkw7UUFDL0IsSUFBSU0sUUFBUTtRQUNaLElBQUlOLGNBQWNBLFdBQVdPLEVBQUUsRUFBRTtZQUMvQixNQUFNQyxlQUFlQyxTQUFTVCxXQUFXTyxFQUFFLENBQUNHLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUN6REosUUFBUSxDQUFDLE9BQU8sRUFBRUUsZUFBZSxFQUFFLENBQUM7UUFDdEM7UUFDQUosUUFBUUMsR0FBRyxDQUFDLG1CQUFtQlAsWUFBWVE7UUFDM0MsTUFBTUssWUFBWSxNQUFNbkIsNkRBQWEsQ0FBQztZQUNwQ2UsSUFBSUQ7WUFDSk8sWUFBWUMsT0FBT2YsVUFBVWdCO1lBQzdCLEdBQUdqQixVQUFVO1FBQ2Y7UUFDQSxJQUFJQSxXQUFXa0IsT0FBTyxJQUFJbEIsV0FBV2tCLE9BQU8sRUFBRUMsU0FBUyxHQUFHO1lBQ3hEckIsK0VBQStCQSxDQUFDO2dCQUM5QnNCLFVBQVVaO2dCQUNWVSxTQUFTbEIsV0FBV2tCLE9BQU87WUFDN0I7UUFDRjtRQUNBLE9BQU9MO0lBQ1QsRUFBRSxPQUFPUSxPQUFPO1FBQ2RmLFFBQVFDLEdBQUcsQ0FBQyxXQUFXYztRQUN2QixNQUFNQTtJQUNSO0FBQ0Y7QUFFQSxNQUFNQyx3QkFBd0IsT0FBT3JCO0lBQ25DLElBQUk7UUFDRixJQUFJc0I7UUFDSixJQUFJdEIsU0FBU3VCLElBQUksS0FBSyxTQUFTO1lBQzdCLE1BQU1DLG1CQUFtQixNQUFNN0IscUVBQXFCLENBQUM7Z0JBQ25EK0IsT0FBTztvQkFBRUMsU0FBUzNCLFNBQVNnQixNQUFNO2dCQUFDO2dCQUNsQ1ksWUFBWTtvQkFBQztpQkFBWTtZQUMzQjtZQUVBLE1BQU1DLG9CQUFvQkwsaUJBQWlCTSxHQUFHLENBQUMsQ0FBQ0MsTUFBUUEsSUFBSUMsU0FBUztZQUVyRVYsV0FBVyxNQUFNN0IsOERBQWMsQ0FBQztnQkFDOUJpQyxPQUFPO29CQUNMbEIsSUFBSXFCO29CQUNKSSxZQUFZO2dCQUNkO2dCQUNBOUIsT0FBTztvQkFBQzt3QkFBQzt3QkFBYztxQkFBTztpQkFBQztnQkFDL0IrQixTQUFTO29CQUFDO3dCQUFFQyxPQUFPekMsb0RBQUtBO3dCQUFFMEMsSUFBSTtvQkFBUTtpQkFBRTtZQUMxQztRQUNGLE9BQU87WUFDTGQsV0FBVyxNQUFNN0IsOERBQWMsQ0FBQztnQkFDOUJpQyxPQUFPO29CQUFFTyxZQUFZO2dCQUFZO2dCQUNqQzlCLE9BQU87b0JBQUM7d0JBQUM7d0JBQWM7cUJBQU87aUJBQUM7Z0JBQy9CK0IsU0FBUztvQkFBQzt3QkFBRUMsT0FBT3pDLG9EQUFLQTt3QkFBRTBDLElBQUk7b0JBQVE7aUJBQUU7WUFDMUM7UUFDRjtRQUVBLE1BQU1DLHVCQUF1QixNQUFNQyxRQUFRQyxHQUFHLENBQzVDakIsU0FBU1EsR0FBRyxDQUFDLE9BQU9VO1lBQ2xCLHlDQUF5QztZQUN6QyxNQUFNQyxnQkFBZ0IsTUFBTUgsUUFBUUMsR0FBRyxDQUNyQ0MsT0FBT0UsS0FBSyxDQUFDWixHQUFHLENBQUMsT0FBT2E7Z0JBQ3RCLE1BQU1DLFVBQVUsTUFBTWhELGdFQUFnQkEsQ0FBQytDLEtBQUtFLFFBQVE7Z0JBQ3BELE9BQU87b0JBQ0wsR0FBR0YsS0FBS0csTUFBTSxFQUFFO29CQUNoQkQsVUFBVUQ7Z0JBQ1o7WUFDRjtZQUdGLE9BQU87Z0JBQ0wsR0FBR0osT0FBT00sTUFBTSxFQUFFO2dCQUNsQkosT0FBT0Q7WUFDVDtRQUNGO1FBR0YsT0FBTztZQUNMTSxNQUFNVjtZQUNOVyxTQUFTO1FBQ1g7SUFDRixFQUFFLE9BQU81QixPQUFPO1FBQ2QsTUFBTUE7SUFDUjtBQUNGO0FBRUEsNEJBQTRCO0FBQzVCLE1BQU02Qix1QkFBdUIsT0FBT3pDLElBQVNSO0lBQzNDLElBQUk7UUFDRkssUUFBUUMsR0FBRyxDQUFDLGNBQWNFO1FBQzFCLE1BQU1nQyxTQUFjLE1BQU0vQywrREFBZSxDQUFDZSxJQUFJO1lBQzVDMEIsU0FBUztnQkFDUDtvQkFDRUMsT0FBT3pDLG9EQUFLQTtvQkFDWjBDLElBQUk7Z0JBQ047Z0JBQ0E7b0JBQ0VELE9BQU94Qyw2REFBYUE7b0JBQ3BCeUMsSUFBSTtnQkFDTjthQUNEO1FBQ0g7UUFFQSxJQUFJLENBQUNJLFFBQVE7WUFDWCxNQUFNLElBQUlXLE1BQU07UUFDbEI7UUFDQSx5Q0FBeUM7UUFDekMsTUFBTVYsZ0JBQWdCLE1BQU1ILFFBQVFDLEdBQUcsQ0FDckNDLE9BQU9FLEtBQUssQ0FBQ1osR0FBRyxDQUFDLE9BQU9hO1lBQ3RCLE1BQU1DLFVBQVUsTUFBTWhELGdFQUFnQkEsQ0FBQytDLEtBQUtFLFFBQVE7WUFDcEQsT0FBTztnQkFDTCxHQUFHRixLQUFLRyxNQUFNLEVBQUU7Z0JBQ2hCRCxVQUFVRDtZQUNaO1FBQ0Y7UUFHRixNQUFNM0IsVUFBVXVCLE9BQU9ZLFlBQVksQ0FBQ3RCLEdBQUcsQ0FDckMsQ0FBQ3VCLGFBQW9CQSxXQUFXMUIsT0FBTztRQUd6QyxPQUFPO1lBQ0wsR0FBR2EsT0FBT00sTUFBTSxFQUFFO1lBQ2xCSixPQUFPRDtZQUNQeEIsU0FBU0E7UUFDWDtJQUNGLEVBQUUsT0FBT0csT0FBTztRQUNkLE1BQU1BO0lBQ1I7QUFDRjtBQUVBLGtCQUFrQjtBQUNsQixNQUFNa0Msc0JBQXNCLE9BQU85QyxJQUFTK0MsWUFBaUJ2RDtJQUMzRCxJQUFJO1FBQ0YsTUFBTXdDLFNBQVMsTUFBTS9DLCtEQUFlLENBQUNlO1FBQ3JDLElBQUksQ0FBQ2dDLFFBQVE7WUFDWCxNQUFNLElBQUlXLE1BQU07UUFDbEI7UUFDQSxNQUFNWCxPQUFPZ0IsTUFBTSxDQUFDO1lBQ2xCQyxZQUFZekQsVUFBVWdCO1lBQ3RCLEdBQUd1QyxVQUFVO1FBQ2Y7UUFDQSxJQUFJQSxXQUFXdEMsT0FBTyxJQUFJc0MsV0FBV3RDLE9BQU8sRUFBRUMsU0FBUyxHQUFHO1lBQ3hEckIsK0VBQStCQSxDQUFDO2dCQUM5QnNCLFVBQVVYO2dCQUNWUyxTQUFTc0MsV0FBV3RDLE9BQU87WUFDN0I7UUFDRjtRQUNBLE9BQU91QjtJQUNULEVBQUUsT0FBT3BCLE9BQU87UUFDZCxNQUFNQTtJQUNSO0FBQ0Y7QUFFQSxrQkFBa0I7QUFDbEIsTUFBTXNDLHNCQUFzQixPQUFPbEQsSUFBU1I7SUFDMUMsSUFBSTtRQUNGLE1BQU13QyxTQUFjLE1BQU0vQywrREFBZSxDQUFDZSxJQUFJO1lBQzVDMEIsU0FBUztnQkFBQztvQkFBRUMsT0FBT3pDLG9EQUFLQTtvQkFBRTBDLElBQUk7Z0JBQVE7YUFBRTtRQUMxQztRQUVBLElBQUksQ0FBQ0ksUUFBUTtZQUNYLE1BQU0sSUFBSVcsTUFBTTtRQUNsQjtRQUNBLElBQUlYLE9BQU9FLEtBQUssSUFBSUYsT0FBT0UsS0FBSyxDQUFDeEIsTUFBTSxHQUFHLEdBQUc7WUFDM0MsTUFBTW9CLFFBQVFDLEdBQUcsQ0FDZkMsT0FBT0UsS0FBSyxDQUFDWixHQUFHLENBQUMsQ0FBQ2EsT0FDaEJBLEtBQUthLE1BQU0sQ0FBQztvQkFBRUcsWUFBWTNELFNBQVNnQixNQUFNO2dCQUFDO1lBSTlDLE1BQU1zQixRQUFRQyxHQUFHLENBQUNDLE9BQU9FLEtBQUssQ0FBQ1osR0FBRyxDQUFDLENBQUNhLE9BQWNBLEtBQUtpQixPQUFPO1FBQ2hFO1FBQ0EsTUFBTXBCLE9BQU9nQixNQUFNLENBQUM7WUFBRUcsWUFBWTNELFNBQVNnQixNQUFNO1FBQUM7UUFDbEQsTUFBTXdCLE9BQU9vQixPQUFPO1FBQ3BCLE9BQU87WUFBRUMsU0FBUztRQUFtRDtJQUN2RSxFQUFFLE9BQU96QyxPQUFPO1FBQ2RmLFFBQVFlLEtBQUssQ0FBQyxvQ0FBb0NBO1FBQ2xELE1BQU1BO0lBQ1I7QUFDRjtBQVFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtcGxlLy4vc3JjL3BhZ2VzL2FwaS9zZXJ2aWNlcy9kb2Nib3gudHM/MjRkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRG9jQm94IGZyb20gXCIuLi9tb2RlbHMvZG9jYm94XCI7XHJcbmltcG9ydCBGaWxlcyBmcm9tIFwiLi4vbW9kZWxzL2ZpbGVcIjtcclxuaW1wb3J0IFVzZXJzRG9jQm94ZXMgZnJvbSBcIi4uL21vZGVscy91c2VzX2RvY2JveGVzXCI7XHJcbmltcG9ydCB7IGdldEZpbGVVcmxGcm9tUzMgfSBmcm9tIFwiLi4vY29tbW9uL3VwbG9hZFwiO1xyXG5pbXBvcnQgeyBjcmVhdGVPclVwZGF0ZVVzZXJEb2NCb3hTZXJ2aWNlIH0gZnJvbSBcIi4vdXNlcnNkb2Nib3hlc1wiO1xyXG5cclxuXHJcbmNvbnN0IGNyZWF0ZURvY0JveFNlcnZpY2UgPSBhc3luYyAoZG9jQm94RGF0YTogYW55LCB1c2VyRGF0YTogYW55KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGxhc3REb2NCb3ggPSBhd2FpdCBEb2NCb3guZmluZE9uZSh7XHJcbiAgICAgIG9yZGVyOiBbW1wiY3JlYXRlZF9hdFwiLCBcIkRFU0NcIl1dLFxyXG4gICAgICBwYXJhbm9pZDogZmFsc2UsXHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKFwiOjo6Ojo6Ojo6Ojo6Ojo6XCIsIGxhc3REb2NCb3gpO1xyXG4gICAgbGV0IG5ld0lkID0gXCJEb2NCb3gtMTAwMDFcIjtcclxuICAgIGlmIChsYXN0RG9jQm94ICYmIGxhc3REb2NCb3guaWQpIHtcclxuICAgICAgY29uc3QgbGFzdElkTnVtYmVyID0gcGFyc2VJbnQobGFzdERvY0JveC5pZC5zcGxpdChcIi1cIilbMV0pO1xyXG4gICAgICBuZXdJZCA9IGBEb2NCb3gtJHtsYXN0SWROdW1iZXIgKyAxfWA7XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhcIjo6Ojo6Ojo6Ojo6Ojo6OlwiLCBkb2NCb3hEYXRhLCBuZXdJZCk7XHJcbiAgICBjb25zdCBuZXdEb2NCb3ggPSBhd2FpdCBEb2NCb3guY3JlYXRlKHtcclxuICAgICAgaWQ6IG5ld0lkLFxyXG4gICAgICBjcmVhdGVkX2J5OiBTdHJpbmcodXNlckRhdGE/LnVzZXJJZCksXHJcbiAgICAgIC4uLmRvY0JveERhdGEsXHJcbiAgICB9KTtcclxuICAgIGlmIChkb2NCb3hEYXRhLnVzZXJJZHMgJiYgZG9jQm94RGF0YS51c2VySWRzPy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNyZWF0ZU9yVXBkYXRlVXNlckRvY0JveFNlcnZpY2Uoe1xyXG4gICAgICAgIGRvY0JveElkOiBuZXdJZCxcclxuICAgICAgICB1c2VySWRzOiBkb2NCb3hEYXRhLnVzZXJJZHMsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld0RvY0JveDtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coXCJlcnJvcnJyXCIsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGdldEFsbERvY0JveGVzU2VydmljZSA9IGFzeW5jICh1c2VyRGF0YTogYW55KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGxldCBkb2NCb3hlcztcclxuICAgIGlmICh1c2VyRGF0YS5yb2xlICE9PSBcImFkbWluXCIpIHtcclxuICAgICAgY29uc3QgYXNzaWduZWREb2NCb3hlcyA9IGF3YWl0IFVzZXJzRG9jQm94ZXMuZmluZEFsbCh7XHJcbiAgICAgICAgd2hlcmU6IHsgdXNlcl9pZDogdXNlckRhdGEudXNlcklkIH0sXHJcbiAgICAgICAgYXR0cmlidXRlczogW1wiZG9jYm94X2lkXCJdLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IGFzc2lnbmVkRG9jQm94SWRzID0gYXNzaWduZWREb2NCb3hlcy5tYXAoKGFkYikgPT4gYWRiLmRvY2JveF9pZCk7XHJcblxyXG4gICAgICBkb2NCb3hlcyA9IGF3YWl0IERvY0JveC5maW5kQWxsKHtcclxuICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgaWQ6IGFzc2lnbmVkRG9jQm94SWRzLFxyXG4gICAgICAgICAgZGVsZXRlZF9hdDogbnVsbCBhcyBhbnksXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvcmRlcjogW1tcImNyZWF0ZWRfYXRcIiwgXCJERVNDXCJdXSxcclxuICAgICAgICBpbmNsdWRlOiBbeyBtb2RlbDogRmlsZXMsIGFzOiBcImZpbGVzXCIgfV0sXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZG9jQm94ZXMgPSBhd2FpdCBEb2NCb3guZmluZEFsbCh7XHJcbiAgICAgICAgd2hlcmU6IHsgZGVsZXRlZF9hdDogbnVsbCBhcyBhbnkgfSxcclxuICAgICAgICBvcmRlcjogW1tcImNyZWF0ZWRfYXRcIiwgXCJERVNDXCJdXSxcclxuICAgICAgICBpbmNsdWRlOiBbeyBtb2RlbDogRmlsZXMsIGFzOiBcImZpbGVzXCIgfV0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRvY0JveGVzV2l0aEZpbGVVcmxzID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgIGRvY0JveGVzLm1hcChhc3luYyAoZG9jQm94OiBhbnkpID0+IHtcclxuICAgICAgICAvLyBSZXNvbHZlIGFsbCBwcm9taXNlcyBmb3IgdGhlIGZpbGUgVVJMc1xyXG4gICAgICAgIGNvbnN0IGZpbGVzV2l0aFVybHMgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgICAgIGRvY0JveC5maWxlcy5tYXAoYXN5bmMgKGZpbGU6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBmaWxlVXJsID0gYXdhaXQgZ2V0RmlsZVVybEZyb21TMyhmaWxlLmZpbGVfdXJsKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAuLi5maWxlLnRvSlNPTigpLFxyXG4gICAgICAgICAgICAgIGZpbGVfdXJsOiBmaWxlVXJsLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4uZG9jQm94LnRvSlNPTigpLFxyXG4gICAgICAgICAgZmlsZXM6IGZpbGVzV2l0aFVybHMsXHJcbiAgICAgICAgfTtcclxuICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YTogZG9jQm94ZXNXaXRoRmlsZVVybHMsXHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG4vLyBHZXQgYSBzaW5nbGUgRG9jQm94IGJ5IElEXHJcbmNvbnN0IGdldERvY0JveEJ5SWRTZXJ2aWNlID0gYXN5bmMgKGlkOiBhbnksIHVzZXJEYXRhOiBhbnkpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coXCI/Pz8/Pz8/Pz8/XCIsIGlkKTtcclxuICAgIGNvbnN0IGRvY0JveDogYW55ID0gYXdhaXQgRG9jQm94LmZpbmRCeVBrKGlkLCB7XHJcbiAgICAgIGluY2x1ZGU6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBtb2RlbDogRmlsZXMsXHJcbiAgICAgICAgICBhczogXCJmaWxlc1wiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbW9kZWw6IFVzZXJzRG9jQm94ZXMsXHJcbiAgICAgICAgICBhczogXCJ1c2VyRG9jQm94ZXNcIixcclxuICAgICAgICB9LFxyXG4gICAgICBdLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFkb2NCb3gpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRG9jQm94IG5vdCBmb3VuZFwiKTtcclxuICAgIH1cclxuICAgIC8vIFJlc29sdmUgYWxsIHByb21pc2VzIGZvciB0aGUgZmlsZSBVUkxzXHJcbiAgICBjb25zdCBmaWxlc1dpdGhVcmxzID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgIGRvY0JveC5maWxlcy5tYXAoYXN5bmMgKGZpbGU6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZpbGVVcmwgPSBhd2FpdCBnZXRGaWxlVXJsRnJvbVMzKGZpbGUuZmlsZV91cmwpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAuLi5maWxlLnRvSlNPTigpLFxyXG4gICAgICAgICAgZmlsZV91cmw6IGZpbGVVcmwsXHJcbiAgICAgICAgfTtcclxuICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgdXNlcklkcyA9IGRvY0JveC51c2VyRG9jQm94ZXMubWFwKFxyXG4gICAgICAodXNlckRvY0JveDogYW55KSA9PiB1c2VyRG9jQm94LnVzZXJfaWRcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLi4uZG9jQm94LnRvSlNPTigpLFxyXG4gICAgICBmaWxlczogZmlsZXNXaXRoVXJscyxcclxuICAgICAgdXNlcklkczogdXNlcklkcyxcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIFVwZGF0ZSBhIERvY0JveFxyXG5jb25zdCB1cGRhdGVEb2NCb3hTZXJ2aWNlID0gYXN5bmMgKGlkOiBhbnksIHVwZGF0ZURhdGE6IGFueSwgdXNlckRhdGE6IGFueSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkb2NCb3ggPSBhd2FpdCBEb2NCb3guZmluZEJ5UGsoaWQpO1xyXG4gICAgaWYgKCFkb2NCb3gpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRG9jQm94IG5vdCBmb3VuZFwiKTtcclxuICAgIH1cclxuICAgIGF3YWl0IGRvY0JveC51cGRhdGUoe1xyXG4gICAgICB1cGRhdGVkX2J5OiB1c2VyRGF0YT8udXNlcklkLFxyXG4gICAgICAuLi51cGRhdGVEYXRhLFxyXG4gICAgfSk7XHJcbiAgICBpZiAodXBkYXRlRGF0YS51c2VySWRzICYmIHVwZGF0ZURhdGEudXNlcklkcz8ubGVuZ3RoID4gMCkge1xyXG4gICAgICBjcmVhdGVPclVwZGF0ZVVzZXJEb2NCb3hTZXJ2aWNlKHtcclxuICAgICAgICBkb2NCb3hJZDogaWQsXHJcbiAgICAgICAgdXNlcklkczogdXBkYXRlRGF0YS51c2VySWRzLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBkb2NCb3g7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIERlbGV0ZSBhIERvY0JveFxyXG5jb25zdCBkZWxldGVEb2NCb3hTZXJ2aWNlID0gYXN5bmMgKGlkOiBhbnksIHVzZXJEYXRhOiBhbnkpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZG9jQm94OiBhbnkgPSBhd2FpdCBEb2NCb3guZmluZEJ5UGsoaWQsIHtcclxuICAgICAgaW5jbHVkZTogW3sgbW9kZWw6IEZpbGVzLCBhczogXCJmaWxlc1wiIH1dLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFkb2NCb3gpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRG9jQm94IG5vdCBmb3VuZFwiKTtcclxuICAgIH1cclxuICAgIGlmIChkb2NCb3guZmlsZXMgJiYgZG9jQm94LmZpbGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgICAgZG9jQm94LmZpbGVzLm1hcCgoZmlsZTogYW55KSA9PlxyXG4gICAgICAgICAgZmlsZS51cGRhdGUoeyBkZWxldGVkX2J5OiB1c2VyRGF0YS51c2VySWQgfSlcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChkb2NCb3guZmlsZXMubWFwKChmaWxlOiBhbnkpID0+IGZpbGUuZGVzdHJveSgpKSk7XHJcbiAgICB9XHJcbiAgICBhd2FpdCBkb2NCb3gudXBkYXRlKHsgZGVsZXRlZF9ieTogdXNlckRhdGEudXNlcklkIH0pO1xyXG4gICAgYXdhaXQgZG9jQm94LmRlc3Ryb3koKTtcclxuICAgIHJldHVybiB7IG1lc3NhZ2U6IFwiRG9jQm94IGFuZCBhc3NvY2lhdGVkIGZpbGVzIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5XCIgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIi8vLy8vLy8vLyBFcnJvciBkZWxldGluZyBEb2NCb3g6XCIsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgY3JlYXRlRG9jQm94U2VydmljZSxcclxuICBnZXRBbGxEb2NCb3hlc1NlcnZpY2UsXHJcbiAgZ2V0RG9jQm94QnlJZFNlcnZpY2UsXHJcbiAgdXBkYXRlRG9jQm94U2VydmljZSxcclxuICBkZWxldGVEb2NCb3hTZXJ2aWNlLFxyXG59O1xyXG4iXSwibmFtZXMiOlsiRG9jQm94IiwiRmlsZXMiLCJVc2Vyc0RvY0JveGVzIiwiZ2V0RmlsZVVybEZyb21TMyIsImNyZWF0ZU9yVXBkYXRlVXNlckRvY0JveFNlcnZpY2UiLCJjcmVhdGVEb2NCb3hTZXJ2aWNlIiwiZG9jQm94RGF0YSIsInVzZXJEYXRhIiwibGFzdERvY0JveCIsImZpbmRPbmUiLCJvcmRlciIsInBhcmFub2lkIiwiY29uc29sZSIsImxvZyIsIm5ld0lkIiwiaWQiLCJsYXN0SWROdW1iZXIiLCJwYXJzZUludCIsInNwbGl0IiwibmV3RG9jQm94IiwiY3JlYXRlIiwiY3JlYXRlZF9ieSIsIlN0cmluZyIsInVzZXJJZCIsInVzZXJJZHMiLCJsZW5ndGgiLCJkb2NCb3hJZCIsImVycm9yIiwiZ2V0QWxsRG9jQm94ZXNTZXJ2aWNlIiwiZG9jQm94ZXMiLCJyb2xlIiwiYXNzaWduZWREb2NCb3hlcyIsImZpbmRBbGwiLCJ3aGVyZSIsInVzZXJfaWQiLCJhdHRyaWJ1dGVzIiwiYXNzaWduZWREb2NCb3hJZHMiLCJtYXAiLCJhZGIiLCJkb2Nib3hfaWQiLCJkZWxldGVkX2F0IiwiaW5jbHVkZSIsIm1vZGVsIiwiYXMiLCJkb2NCb3hlc1dpdGhGaWxlVXJscyIsIlByb21pc2UiLCJhbGwiLCJkb2NCb3giLCJmaWxlc1dpdGhVcmxzIiwiZmlsZXMiLCJmaWxlIiwiZmlsZVVybCIsImZpbGVfdXJsIiwidG9KU09OIiwiZGF0YSIsInN1Y2Nlc3MiLCJnZXREb2NCb3hCeUlkU2VydmljZSIsImZpbmRCeVBrIiwiRXJyb3IiLCJ1c2VyRG9jQm94ZXMiLCJ1c2VyRG9jQm94IiwidXBkYXRlRG9jQm94U2VydmljZSIsInVwZGF0ZURhdGEiLCJ1cGRhdGUiLCJ1cGRhdGVkX2J5IiwiZGVsZXRlRG9jQm94U2VydmljZSIsImRlbGV0ZWRfYnkiLCJkZXN0cm95IiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/services/docbox.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/services/usersdocboxes.ts":
/*!*************************************************!*\
  !*** ./src/pages/api/services/usersdocboxes.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createOrUpdateUserDocBoxService: () => (/* binding */ createOrUpdateUserDocBoxService)\n/* harmony export */ });\n/* harmony import */ var _clerk_nextjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @clerk/nextjs */ \"@clerk/nextjs\");\n/* harmony import */ var _clerk_nextjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_clerk_nextjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _models_uses_docboxes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/uses_docboxes */ \"(api)/./src/pages/api/models/uses_docboxes.ts\");\n/* harmony import */ var _common_mail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/mail */ \"(api)/./src/pages/api/common/mail.ts\");\n\n\n\nasync function createOrUpdateUserDocBoxService(data) {\n    try {\n        const users = await _clerk_nextjs__WEBPACK_IMPORTED_MODULE_0__.clerkClient.users.getUserList();\n        const formattedUsers = users.map((user)=>({\n                id: user.id,\n                name: `${user.firstName} ${user.lastName}`,\n                email: user.emailAddresses[0].emailAddress,\n                role: user.publicMetadata.role ?? \"user\"\n            }));\n        const { docBoxId, userIds } = data;\n        console.log(\"in cccccccccccccccccccc\", docBoxId, userIds);\n        // Find existing associations for the doc_box_id\n        const existingUsersDocBoxes = await _models_uses_docboxes__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findAll({\n            where: {\n                docbox_id: docBoxId\n            }\n        });\n        // Get the existing user IDs for the doc_box_id\n        const existingUserIds = existingUsersDocBoxes.map((userDocBox)=>userDocBox.user_id);\n        // Identify new user IDs to be added\n        const newUserIds = userIds.filter((userId)=>!existingUserIds.includes(userId));\n        //find out their mails\n        const newUserEmails = formattedUsers.filter((user)=>newUserIds.includes(user.id)).map((user)=>user.email);\n        // Identify existing user IDs to be removed\n        const removedUserIds = existingUserIds.filter((userId)=>!userIds.includes(userId));\n        // Remove associations for the existing user IDs to be removed\n        if (removedUserIds.length > 0) {\n            await _models_uses_docboxes__WEBPACK_IMPORTED_MODULE_1__[\"default\"].destroy({\n                where: {\n                    docbox_id: docBoxId,\n                    user_id: removedUserIds\n                }\n            });\n        }\n        // Create associations for the new user IDs to be added\n        const newUsersDocBoxes = newUserIds.map((userId)=>({\n                docbox_id: docBoxId,\n                user_id: userId\n            }));\n        await _models_uses_docboxes__WEBPACK_IMPORTED_MODULE_1__[\"default\"].bulkCreate(newUsersDocBoxes);\n        await (0,_common_mail__WEBPACK_IMPORTED_MODULE_2__.sendEmail)({\n            userMails: newUserEmails,\n            subject: \"DocBox Assigned\",\n            text: `${docBoxId} - DocBox Assigned to you`\n        });\n        // Fetch and return the updated associations\n        const updatedUsersDocBoxes = await _models_uses_docboxes__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findAll({\n            where: {\n                docbox_id: docBoxId\n            }\n        });\n        return updatedUsersDocBoxes;\n    } catch (error) {\n        console.log(\"errorrrrrrrrrrrrr\", error);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL3NlcnZpY2VzL3VzZXJzZG9jYm94ZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNEM7QUFDUTtBQUNUO0FBT3BDLGVBQWVHLGdDQUFnQ0MsSUFBb0I7SUFDeEUsSUFBSTtRQUNGLE1BQU1DLFFBQVEsTUFBTUwsc0RBQVdBLENBQUNLLEtBQUssQ0FBQ0MsV0FBVztRQUNqRCxNQUFNQyxpQkFBaUJGLE1BQU1HLEdBQUcsQ0FBQyxDQUFDQyxPQUFVO2dCQUMxQ0MsSUFBSUQsS0FBS0MsRUFBRTtnQkFDWEMsTUFBTSxDQUFDLEVBQUVGLEtBQUtHLFNBQVMsQ0FBQyxDQUFDLEVBQUVILEtBQUtJLFFBQVEsQ0FBQyxDQUFDO2dCQUMxQ0MsT0FBT0wsS0FBS00sY0FBYyxDQUFDLEVBQUUsQ0FBQ0MsWUFBWTtnQkFDMUNDLE1BQU1SLEtBQUtTLGNBQWMsQ0FBQ0QsSUFBSSxJQUFJO1lBQ3BDO1FBRUEsTUFBTSxFQUFFRSxRQUFRLEVBQUVDLE9BQU8sRUFBRSxHQUFHaEI7UUFDOUJpQixRQUFRQyxHQUFHLENBQUMsMkJBQTJCSCxVQUFVQztRQUVqRCxnREFBZ0Q7UUFDaEQsTUFBTUcsd0JBQXdCLE1BQU10QixxRUFBcUIsQ0FBQztZQUN4RHdCLE9BQU87Z0JBQUVDLFdBQVdQO1lBQVM7UUFDL0I7UUFFQSwrQ0FBK0M7UUFDL0MsTUFBTVEsa0JBQWtCSixzQkFBc0JmLEdBQUcsQ0FDL0MsQ0FBQ29CLGFBQWVBLFdBQVdDLE9BQU87UUFHcEMsb0NBQW9DO1FBQ3BDLE1BQU1DLGFBQWFWLFFBQVFXLE1BQU0sQ0FDL0IsQ0FBQ0MsU0FBVyxDQUFDTCxnQkFBZ0JNLFFBQVEsQ0FBQ0Q7UUFHeEMsc0JBQXNCO1FBQ3RCLE1BQU1FLGdCQUFnQjNCLGVBQ25Cd0IsTUFBTSxDQUFDLENBQUN0QixPQUFTcUIsV0FBV0csUUFBUSxDQUFDeEIsS0FBS0MsRUFBRSxHQUM1Q0YsR0FBRyxDQUFDLENBQUNDLE9BQVNBLEtBQUtLLEtBQUs7UUFFM0IsMkNBQTJDO1FBQzNDLE1BQU1xQixpQkFBaUJSLGdCQUFnQkksTUFBTSxDQUMzQyxDQUFDQyxTQUFXLENBQUNaLFFBQVFhLFFBQVEsQ0FBQ0Q7UUFHaEMsOERBQThEO1FBQzlELElBQUlHLGVBQWVDLE1BQU0sR0FBRyxHQUFHO1lBQzdCLE1BQU1uQyxxRUFBcUIsQ0FBQztnQkFDMUJ3QixPQUFPO29CQUFFQyxXQUFXUDtvQkFBVVUsU0FBU007Z0JBQWU7WUFDeEQ7UUFDRjtRQUVBLHVEQUF1RDtRQUN2RCxNQUFNRyxtQkFBd0JSLFdBQVd0QixHQUFHLENBQUMsQ0FBQ3dCLFNBQVk7Z0JBQ3hETixXQUFXUDtnQkFDWFUsU0FBU0c7WUFDWDtRQUNBLE1BQU0vQix3RUFBd0IsQ0FBQ3FDO1FBQy9CLE1BQU1wQyx1REFBU0EsQ0FBQztZQUNkc0MsV0FBV047WUFDWE8sU0FBUztZQUNUQyxNQUFNLENBQUMsRUFBRXZCLFNBQVMseUJBQXlCLENBQUM7UUFDOUM7UUFDQSw0Q0FBNEM7UUFDNUMsTUFBTXdCLHVCQUF1QixNQUFNMUMscUVBQXFCLENBQUM7WUFDdkR3QixPQUFPO2dCQUFFQyxXQUFXUDtZQUFTO1FBQy9CO1FBQ0EsT0FBT3dCO0lBQ1QsRUFBRSxPQUFPQyxPQUFPO1FBQ2R2QixRQUFRQyxHQUFHLENBQUMscUJBQXFCc0I7SUFDbkM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3NhbXBsZS8uL3NyYy9wYWdlcy9hcGkvc2VydmljZXMvdXNlcnNkb2Nib3hlcy50cz9jODk4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsZXJrQ2xpZW50IH0gZnJvbSBcIkBjbGVyay9uZXh0anNcIjtcclxuaW1wb3J0IFVzZXJzRG9jQm94ZXMgZnJvbSBcIi4uL21vZGVscy91c2VzX2RvY2JveGVzXCI7XHJcbmltcG9ydCB7IHNlbmRFbWFpbCB9IGZyb20gXCIuLi9jb21tb24vbWFpbFwiO1xyXG5cclxuaW50ZXJmYWNlIFVzZXJEb2NCb3hEYXRhIHtcclxuICBkb2NCb3hJZDogc3RyaW5nO1xyXG4gIHVzZXJJZHM6IHN0cmluZ1tdO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVVc2VyRG9jQm94U2VydmljZShkYXRhOiBVc2VyRG9jQm94RGF0YSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VycyA9IGF3YWl0IGNsZXJrQ2xpZW50LnVzZXJzLmdldFVzZXJMaXN0KCk7XHJcbiAgICBjb25zdCBmb3JtYXR0ZWRVc2VycyA9IHVzZXJzLm1hcCgodXNlcikgPT4gKHtcclxuICAgICAgaWQ6IHVzZXIuaWQsXHJcbiAgICAgIG5hbWU6IGAke3VzZXIuZmlyc3ROYW1lfSAke3VzZXIubGFzdE5hbWV9YCxcclxuICAgICAgZW1haWw6IHVzZXIuZW1haWxBZGRyZXNzZXNbMF0uZW1haWxBZGRyZXNzLFxyXG4gICAgICByb2xlOiB1c2VyLnB1YmxpY01ldGFkYXRhLnJvbGUgPz8gXCJ1c2VyXCIsXHJcbiAgICB9KSk7XHJcblxyXG4gICAgY29uc3QgeyBkb2NCb3hJZCwgdXNlcklkcyB9ID0gZGF0YTtcclxuICAgIGNvbnNvbGUubG9nKFwiaW4gY2NjY2NjY2NjY2NjY2NjY2NjY2NcIiwgZG9jQm94SWQsIHVzZXJJZHMpO1xyXG5cclxuICAgIC8vIEZpbmQgZXhpc3RpbmcgYXNzb2NpYXRpb25zIGZvciB0aGUgZG9jX2JveF9pZFxyXG4gICAgY29uc3QgZXhpc3RpbmdVc2Vyc0RvY0JveGVzID0gYXdhaXQgVXNlcnNEb2NCb3hlcy5maW5kQWxsKHtcclxuICAgICAgd2hlcmU6IHsgZG9jYm94X2lkOiBkb2NCb3hJZCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gR2V0IHRoZSBleGlzdGluZyB1c2VyIElEcyBmb3IgdGhlIGRvY19ib3hfaWRcclxuICAgIGNvbnN0IGV4aXN0aW5nVXNlcklkcyA9IGV4aXN0aW5nVXNlcnNEb2NCb3hlcy5tYXAoXHJcbiAgICAgICh1c2VyRG9jQm94KSA9PiB1c2VyRG9jQm94LnVzZXJfaWRcclxuICAgICk7XHJcblxyXG4gICAgLy8gSWRlbnRpZnkgbmV3IHVzZXIgSURzIHRvIGJlIGFkZGVkXHJcbiAgICBjb25zdCBuZXdVc2VySWRzID0gdXNlcklkcy5maWx0ZXIoXHJcbiAgICAgICh1c2VySWQpID0+ICFleGlzdGluZ1VzZXJJZHMuaW5jbHVkZXModXNlcklkKVxyXG4gICAgKTtcclxuXHJcbiAgICAvL2ZpbmQgb3V0IHRoZWlyIG1haWxzXHJcbiAgICBjb25zdCBuZXdVc2VyRW1haWxzID0gZm9ybWF0dGVkVXNlcnNcclxuICAgICAgLmZpbHRlcigodXNlcikgPT4gbmV3VXNlcklkcy5pbmNsdWRlcyh1c2VyLmlkKSlcclxuICAgICAgLm1hcCgodXNlcikgPT4gdXNlci5lbWFpbCk7XHJcblxyXG4gICAgLy8gSWRlbnRpZnkgZXhpc3RpbmcgdXNlciBJRHMgdG8gYmUgcmVtb3ZlZFxyXG4gICAgY29uc3QgcmVtb3ZlZFVzZXJJZHMgPSBleGlzdGluZ1VzZXJJZHMuZmlsdGVyKFxyXG4gICAgICAodXNlcklkKSA9PiAhdXNlcklkcy5pbmNsdWRlcyh1c2VySWQpXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFJlbW92ZSBhc3NvY2lhdGlvbnMgZm9yIHRoZSBleGlzdGluZyB1c2VyIElEcyB0byBiZSByZW1vdmVkXHJcbiAgICBpZiAocmVtb3ZlZFVzZXJJZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICBhd2FpdCBVc2Vyc0RvY0JveGVzLmRlc3Ryb3koe1xyXG4gICAgICAgIHdoZXJlOiB7IGRvY2JveF9pZDogZG9jQm94SWQsIHVzZXJfaWQ6IHJlbW92ZWRVc2VySWRzIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWF0ZSBhc3NvY2lhdGlvbnMgZm9yIHRoZSBuZXcgdXNlciBJRHMgdG8gYmUgYWRkZWRcclxuICAgIGNvbnN0IG5ld1VzZXJzRG9jQm94ZXM6IGFueSA9IG5ld1VzZXJJZHMubWFwKCh1c2VySWQpID0+ICh7XHJcbiAgICAgIGRvY2JveF9pZDogZG9jQm94SWQsXHJcbiAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcclxuICAgIH0pKTtcclxuICAgIGF3YWl0IFVzZXJzRG9jQm94ZXMuYnVsa0NyZWF0ZShuZXdVc2Vyc0RvY0JveGVzKTtcclxuICAgIGF3YWl0IHNlbmRFbWFpbCh7XHJcbiAgICAgIHVzZXJNYWlsczogbmV3VXNlckVtYWlscyxcclxuICAgICAgc3ViamVjdDogXCJEb2NCb3ggQXNzaWduZWRcIixcclxuICAgICAgdGV4dDogYCR7ZG9jQm94SWR9IC0gRG9jQm94IEFzc2lnbmVkIHRvIHlvdWAsXHJcbiAgICB9KTtcclxuICAgIC8vIEZldGNoIGFuZCByZXR1cm4gdGhlIHVwZGF0ZWQgYXNzb2NpYXRpb25zXHJcbiAgICBjb25zdCB1cGRhdGVkVXNlcnNEb2NCb3hlcyA9IGF3YWl0IFVzZXJzRG9jQm94ZXMuZmluZEFsbCh7XHJcbiAgICAgIHdoZXJlOiB7IGRvY2JveF9pZDogZG9jQm94SWQgfSxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHVwZGF0ZWRVc2Vyc0RvY0JveGVzO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcImVycm9ycnJycnJycnJycnJyXCIsIGVycm9yKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImNsZXJrQ2xpZW50IiwiVXNlcnNEb2NCb3hlcyIsInNlbmRFbWFpbCIsImNyZWF0ZU9yVXBkYXRlVXNlckRvY0JveFNlcnZpY2UiLCJkYXRhIiwidXNlcnMiLCJnZXRVc2VyTGlzdCIsImZvcm1hdHRlZFVzZXJzIiwibWFwIiwidXNlciIsImlkIiwibmFtZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJlbWFpbEFkZHJlc3NlcyIsImVtYWlsQWRkcmVzcyIsInJvbGUiLCJwdWJsaWNNZXRhZGF0YSIsImRvY0JveElkIiwidXNlcklkcyIsImNvbnNvbGUiLCJsb2ciLCJleGlzdGluZ1VzZXJzRG9jQm94ZXMiLCJmaW5kQWxsIiwid2hlcmUiLCJkb2Nib3hfaWQiLCJleGlzdGluZ1VzZXJJZHMiLCJ1c2VyRG9jQm94IiwidXNlcl9pZCIsIm5ld1VzZXJJZHMiLCJmaWx0ZXIiLCJ1c2VySWQiLCJpbmNsdWRlcyIsIm5ld1VzZXJFbWFpbHMiLCJyZW1vdmVkVXNlcklkcyIsImxlbmd0aCIsImRlc3Ryb3kiLCJuZXdVc2Vyc0RvY0JveGVzIiwiYnVsa0NyZWF0ZSIsInVzZXJNYWlscyIsInN1YmplY3QiLCJ0ZXh0IiwidXBkYXRlZFVzZXJzRG9jQm94ZXMiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/services/usersdocboxes.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcontrollers%2Fdocbox&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Ccontrollers%5Cdocbox.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();